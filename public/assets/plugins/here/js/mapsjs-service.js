/**
 * The code below uses open source software. Please visit the URL below for an overview of the licenses:
 * http://js.api.here.com/v3/3.1.38.0/HERE_NOTICE
 */

H.util.eval(
  'T.prototype.s=ca(3,function(a){var b=this.getCache(),c=this;if(a!==y){C(a,Pk,T.prototype.s,0);var d=a}else d=wl;d!==b&&b.ma(function(e,f,g){return c.Tb(e)?(d.add(e,f,g),!0):!1});this.S=d});qi.prototype.b=ca(2,function(a){this.g=a;a=this.getState();a!==Uh.INIT&&a!==Uh.LOADING&&xi(this)});function rp(a,b){Ya.apply(null,arguments);return a}function sp(a,b){var c=x.console;c&&c.warn&&(a=wc(a)+" is deprecated and will be removed soon. ",b&&(a+=b),c.warn(a))}var tp=globalThis;sc("monospace serif");\nfunction up(){}up.prototype.pop=function(a){this[a]||(this[a]=[]);return this[a].pop()||document.createElement("canvas")};up.prototype.push=function(a,b){this[b]||(this[b]=[]);this[b].push(a)};var vp=new up;t("H.service.util.eval",function(a){return eval(a)});function W(a,b,c,d,e,f){if(a&&b)this.ui(a),this.Ye(b),this.td(c),this.pi(e),this.Nk(f),this.ng(d);else throw new D(W,B,\'Parameters "scheme" and "host" must be specified\');}t("H.service.Url",W);\nfunction wp(a,b){var c=x.document,d;var e="";if(c){e=c.createElement("a");if(b){var f=(d=c.getElementsByTagName("base")[0])&&d.href;var g=c.head;var h=d||g.appendChild(c.createElement("base"));h.href=b}e.href=a;e=e.href;b&&(d?d.href=f:g.removeChild(h))}else/[\\w]+:\\/\\//.test(a)&&(e=a);f=/(?:(\\w+):\\/\\/)?(?:([^:]+):([^@/]*)@)?([^/:]+)?(?:[:]{1}([0-9]+))?(\\/[^?#]*)?(\\?[^#]+)?(#.*)?/.exec(e);a=f[1];g=f[4];b=f[5];h=f[6];c=f[7];d=f[8];!f[2]&&g&&/@/.test(g)&&(g=g.split("@")[1]);f=W;h=h&&0<h.length?h.substr(1):\n"";e={};var k,l;if(c)for(k=/([?&]?([^=&+]+))(=([^&]+))?/g;l=k.exec(c);)e[decodeURIComponent(l[2])]=l[4]?decodeURIComponent(l[4]):void 0;return new f(a,g,h,e,isNaN(+b)?void 0:+b,d&&0<d.length?d.substr(1):"")}W.parse=wp;W.prototype.clone=function(){var a={},b;for(b in this.a)a[b]=this.a[b];return new W(this.i,this.g,this.b,a,this.f,this.c)};W.prototype.clone=W.prototype.clone;\nW.prototype.ui=function(a){if(!a||"string"!==typeof a)throw new D(this.ui,0,\'The "scheme" parameter must be a non-empty string.\');this.i=a;return this};W.prototype.setScheme=W.prototype.ui;W.prototype.Om=function(){return this.i};W.prototype.getScheme=W.prototype.Om;W.prototype.Ye=function(a){if(!a||"string"!==typeof a||"-"===a.charAt(0)||"."===a.charAt(0)||"."===a.charAt(a.length-1))throw new D(this.Ye,0,\'The "host" parameter is not a valid host name.\');this.g=a;return this};\nW.prototype.setHost=W.prototype.Ye;W.prototype.km=function(){return this.g};W.prototype.getHost=W.prototype.km;W.prototype.td=function(a){this.b=a||void 0;return this};W.prototype.setPath=W.prototype.td;W.prototype.Cm=function(){return this.b};W.prototype.getPath=W.prototype.Cm;W.prototype.ng=function(a){if(a)if("object"==typeof a)this.a=a;else throw new D(this.ng,0,\'Parameter "params" must be an object.\');else this.a={};return this};W.prototype.setQuery=W.prototype.ng;W.prototype.Mj=function(){return!xp(this)};\nW.prototype.hasQuery=W.prototype.Mj;W.prototype.getQuery=function(){return this.a};W.prototype.getQuery=W.prototype.getQuery;W.prototype.pi=function(a){if(void 0===a)this.f=a;else{var b=Zd(+a<<0,0,65535);if(b!=a)throw new D(this.pi,0,\'Parameter "port" must be an integer in range [0...65535]\');this.f=b}return this};W.prototype.setPort=W.prototype.pi;W.prototype.Fm=function(){return this.f};W.prototype.getPort=W.prototype.Fm;W.prototype.Nk=function(a){this.c=a||void 0;return this};\nW.prototype.setAnchor=W.prototype.Nk;W.prototype.fd=function(){return this.c};W.prototype.getAnchor=W.prototype.fd;W.prototype.I=function(a){if("object"!==typeof a)throw new D(this.I,0,\'Parameter "other" must be an object.\');var b=this.a,c;for(c in a)a.hasOwnProperty(c)&&"function"!==typeof a[c]&&(b[c]=a[c]);return this};W.prototype.mergeQuery=W.prototype.I;\nW.prototype.za=function(a){if(!a||"string"!==typeof a)throw new D(this.za,0,\'Parameter "subDomain" must be a non-empty string\');"."===a.substr(a.length-1)&&(a=a.substr(0,a.length-1));return this.Ye(a+"."+this.g)};W.prototype.addSubDomain=W.prototype.za;W.prototype.F=function(a){if(!a||"string"!==typeof a)throw new D(this.F,0,\'Parameter "subPath" must be a non-empty string\');return this.td((this.b?this.b+"/":"")+a)};W.prototype.addSubPath=W.prototype.F;\nW.prototype.toString=function(){return[this.i+"://",this.g,this.f?":"+this.f:"",this.b||!xp(this)||this.c?"/":"",this.b?encodeURI(this.b):"",yp(this),this.c?"#"+encodeURIComponent(this.c):""].join("")};W.prototype.toString=W.prototype.toString;function zp(a){return encodeURIComponent(a).replace(/[!\'()*]/g,function(b){return"%"+b.charCodeAt(0).toString(16)})}\nfunction yp(a){var b=[],c=a.a,d={},e;for(e in c){if(c.hasOwnProperty(e)&&"function"!==typeof c[e]){var f=a.a[e];d.vd=zp(e);C(f,Ap)?f.a.forEach(function(g){return function(h){b.push(g.vd+"="+zp(h))}}(d)):C(f,Bp)?b.push(d.vd+"="+f.b.map(function(g){return zp(g)}).join(f.a)):b.push(void 0===f?d.vd:d.vd+"="+zp(f))}d={vd:d.vd}}return 0<b.length?"?"+b.join("&"):""}\nfunction Cp(a){var b=Hf("H-service","1.38.0","8be3148",{region:"row"});a.a.xnlp="CL_JSMv3."+b.version;return a}function xp(a){var b,c=0;for(b in a.a)if(a.a.hasOwnProperty(b)&&"function"!==typeof a.a[b]&&(c++,0<c))break;return!c}function Dp(a,b){if(zc(a))for(var c=0;c<a.length;c++){var d=a[c];if(!Ac(d)&&!Dc(d)){var e="The Array does not contain only strings and numbers";break}}else e="Not an Array";if(e)throw new D(b,0,a);return a}function Ap(a){this.a=Dp(a,Ap)}\nW.MultiValueQueryParameter=Ap;Ap.prototype.Zm=function(){return this.a};Ap.prototype.getValues=Ap.prototype.Zm;function Bp(a,b){this.b=Dp(a,Bp);if(!/^[!\\$\\(\\)\\*\\+,;]$/.test(b))throw new D(Bp,1,\'Invalid delimiter "\'+b+\'"\');this.a=b}W.DelimitedQuerySubValues=Bp;function Ep(a,b){C(a,Fp,Ep,0);var c={};Object.assign(c,b);c.min=c.min||0;c.max=c.max||20;c.tileSize=c.tileSize||512;c.getURL=function(d,e,f){return a.C().clone().F(a.b.fg+"/"+(a.b.Xf+"/")+(f+"/"+d+"/"+e+"/")+a.b.format).I(a.f).clone().I({size:c.tileSize})};Ck.call(this,c);this.i=a}u(Ep,Ck);t("H.service.rasterTile.Provider",Ep);Ep.prototype.ca=function(a,b){var c=this.i;return Gp(c.ca(),c.b.fg+"."+c.$(),b,a)};Ep.prototype.getCopyrights=Ep.prototype.ca;Ep.prototype.m=function(){return md()};\nEp.prototype.f=function(){return md()?ld():Ep.l.f.call(this)};function X(a){a=rp({},this.c,a);var b=a.apikey||a.apiKey,c=a.baseUrl;if(c=b?c?0:"baseUrl":"apikey")throw new D(X,0,\'"\'+c+\'" must be specified\');this.Pk(a.baseUrl);this.b=b;this.a.I({apikey:b});this.f=a.headers||{};this.g=Wa(a.servicesConfig||{})}t("H.service.Platform",X);X.prototype.c={apikey:null,baseUrl:new W("https","hereapi"+(Gn?".cn":".com"))};X.prototype.Pk=function(a){this.a=Cp(a.clone());this.b=a=this.b;this.a.I({apikey:a})};X.prototype.setBaseUrl=X.prototype.Pk;X.prototype.Db=function(){return this.a};\nX.prototype.getBaseUrl=X.prototype.Db;X.prototype.Ma=function(a,b){try{return a.Tj=!0,new a(rp({platformBaseUrl:this.Db(),headers:this.f},this.g[a.CONFIG_KEY]||{},b||{}))}finally{a.Tj=!1}};X.prototype.createService=X.prototype.Ma;\nX.prototype.sf=function(a,b,c){var d=this;if(!H.map.render.harp)throw Error("HARP engine module not found");if(!Ea(a)&&!Ac(a))throw new D(this.sf,0,"is invalid: must be either a configuration object or a URL");if(!Da(b))throw new D(this.sf,1,"is invalid: must be a Function");if(!Da(c))throw new D(this.sf,2,"is invalid: must be a Function");var e=new H.map.render.harp.Style(a);e.addEventListener("change",function(){var f=e.getState();if(-1===f)c(Error("H.service.platform#createHybridLayers method failed to load style configuration"));\nelse if(2===f){f={dark:!0};var g=d.gh({resource:"background",queryParams:{style:"satellite.day"}}),h=e.lc(),k={styles:[{technique:"raster",attr:{gamma:1,brightness:1}}]};h.definitions&&(void 0!==h.definitions["Satellite.Texture.Gamma"]&&(k.styles[0].attr.gamma=h.definitions["Satellite.Texture.Gamma"]),void 0!==h.definitions["Satellite.Texture.Brightness"]&&(k.styles[0].attr.brightness=h.definitions["Satellite.Texture.Brightness"]));g=new Ep(g,{engineType:Kn,style:new H.map.render.harp.Style(k)});\nb({raster:new ql(g,f),vector:d.De().cd(e,{engineType:Kn},f)})}});e.load()};X.prototype.createHybridLayers=X.prototype.sf;X.prototype.rf=function(a,b,c,d,e,f){function g(S,la,ea){la=uo()+"/"+la;la=l===ik.WEBGL?new qi(la):new H.map.render.harp.Style(la);var Za={engineType:l};n&&n.politicalView&&(Za.politicalView=n.politicalView);c&&(Za.lg=c);d&&(Za.lg2=d);f&&(Za.pois=f);var Oa;ea&&(Oa={dark:ea});return S.cd(la,Za,Oa)}function h(S,la,ea,Za,Oa){return S.ic(la,ea,q,Za,r,1,Oa,m)}var k=this,l=hk,m={crossOrigin:"anonymous"};if(Ea(a)){var n=a;"crossOrigin"in n&&(m.crossOrigin=n.crossOrigin);a=n.tileSize;b=n.ppi;c=n.lg;d=n.lg2;\ne=n.style;f=n.pois;void 0!==n.engineType&&(l=n.engineType,m.engineType=l)}var q=a||512,r={};if(0>[72,250,320,500].indexOf(+b)){if(b!==B)throw new D(this.rf,1,b);}else r.ppi=+b;c&&(r.lg=c);d&&(r.lg2=d);e&&(r.style=e);f&&(r.pois=!!f);if(l===ik.HARP&&!H.map.render.harp)throw new D(this.rf,0,"HARP engine is not supported, module not found");a={};if(Gn)rp(a,{vector:{normal:{map:g(this.De(),"harp/oslo/normal.day.json")}}});else{e=this.bh();var v=this.bh({type:"aerial"}),w=this.Fj(),z=w.Yi(r.lg?{lg:r.lg,\ni18n:!0,engineType:l}:{engineType:l});rp(a,{raster:{normal:{xbase:h(e,"xbasetile","normal.day","png8",!1),xbasenight:h(e,"xbasetile","normal.night","png8",!0),base:h(e,"basetile","normal.day","png8",!1),basenight:h(e,"basetile","normal.night","png8",!0),map:h(e,"maptile","normal.day","png8",!1),mapnight:h(e,"maptile","normal.night","png8",!0),trafficincidents:z,transit:h(e,"maptile","normal.day.transit","png8",!1),labels:h(e,"labeltile","normal.day","png",!1)},satellite:{xbase:h(v,"xbasetile","hybrid.day",\n"jpg",!0),base:h(v,"basetile","hybrid.day","jpg",!0),map:h(v,"maptile","hybrid.day","jpg",!0),labels:h(v,"labeltile","hybrid.day","png",!0)},terrain:{xbase:h(v,"xbasetile","terrain.day","jpg",!1),base:h(v,"basetile","terrain.day","jpg",!1),map:h(v,"maptile","terrain.day","jpg",!1),labels:h(v,"labeltile","terrain.day","png",!1)}}});l!==ik.P2D&&(rp(a,{vector:{normal:{traffic:w.Xi(void 0,l),trafficincidents:z}}}),e=this.De(),l===ik.WEBGL?(a.vector.normal.map=g(e,"omv/miami/normal.day.yaml"),a.vector.normal.truck=\ng(e,"omv/miami/truck.day.yaml")):l===ik.HARP&&(a.vector.normal.map=g(e,"harp/oslo/normal.day.json"),a.vector.normal.truck=g(e,"harp/oslo/normal.day.json")));if(l===ik.HARP){var J={ppi:72<b?400:100,size:256<q?512:256,features:"pois:"+(!0===f||Ac(f)&&/[^0]/.test(f)?"all":"disabled")};c&&(J.lang=c);d&&(J.lang2=d);n&&n.politicalView&&(J.pview=n.politicalView);b={dark:!0};e=function(S,la,ea,Za){var Oa=rp({},J);/^explore\\./.test(la)||delete Oa.features;S=k.gh({resource:S,queryParams:rp({style:la},Oa)});\nZa=new Ep(S,{engineType:l,style:Za});return new ql(Za,ea)};rp(a.raster.normal,{base:e("background","explore.day"),basenight:e("background","explore.night",b),map:e("base","explore.day"),mapnight:e("base","explore.night",b),labels:e("label","explore.day")});rp(a.raster.satellite,{xbase:e("background","satellite.day",b),base:e("background","explore.satellite.day",b),map:e("base","explore.satellite.day",b),labels:e("label","explore.satellite.day")});if(l===ik.HARP){v=this.De();rp(a.vector.normal,{mapnight:g(v,\n"harp/oslo/normal.night.json",!0),lite:g(v,"harp/oslo/lite.day.json"),litenight:g(v,"harp/oslo/lite.night.json",!0),ism:g(v,"harp/oslo/ism.day.json"),ismnight:g(v,"harp/oslo/ism.night.json",!0)});w={styles:[{technique:"raster",attr:{gamma:["interpolate",["linear"],["zoom"],0,1,13,1.2,17,1.3],brightness:["interpolate",["linear"],["zoom"],0,.7,13,.9,17,1]}}]};z=[];for(var I=0;4>I;I++){var Q=new H.map.render.harp.Style(JSON.parse(JSON.stringify(w)));Q=e("background","satellite.day",b,Q);z.push(Q)}a.hybrid=\n{day:{raster:z[0],vector:g(v,"harp/oslo/hybrid.day.json",!0)},night:{raster:z[1],vector:g(v,"harp/oslo/hybrid.night.json",!0)},liteday:{raster:z[2],vector:g(v,"harp/oslo/lite.hybrid.day.json",!0)},litenight:{raster:z[3],vector:g(v,"harp/oslo/lite.hybrid.night.json",!0)}}}}}return a};X.prototype.createDefaultLayers=X.prototype.rf;function Hp(a){if(!a||!Da(a.requestData))throw new D(Hp,0,"options.requestData");Hp.l.constructor.call(this,a);this.K=a.requestData;this.B=!!a.providesDomMarkers}u(Hp,T);t("H.map.provider.MarkerTileProvider",Hp);Hp.prototype.Gd=function(a){return a?a.length+1:1};Hp.prototype.getEntryWeight=Hp.prototype.Gd;\nHp.prototype.G=function(a,b,c,d,e){var f=this;return this.K(a,b,c,function(g){for(var h=[],k,l,m=g.length;m--;)l=g[m],l.qo=f.getTileKey(a,b,c),l.ia(f),k=l.rb(),(C(l,$i)||1===k.getState())&&h.push(g[m]);d(h)},e)};Hp.prototype.requestInternal=Hp.prototype.G;Hp.prototype.Rd=function(a,b){b===kh.VISUAL&&(a=this.Fb().get(a.qo))&&(a.valid=!1,this.Sa(a))};Hp.prototype.invalidateObject=Hp.prototype.Rd;Hp.prototype.Lb=function(){return this.B};Hp.prototype.providesDomMarkers=Hp.prototype.Lb;\nHp.prototype.Mb=ff;Hp.prototype.providesMarkers=Hp.prototype.Mb;function Ip(){this.a={}}Ip.prototype.rb=function(a,b){var c=a+b,d;if(d=this.a[c])return d;a=Jp.MARKER.replace("{{icon}}",Kp[a]||Kp.OTHER);a=a.replace("{{color}}",Lp[b]||Lp.BLOCKING);b={size:{w:26,h:33},anchor:{x:13,y:30},hitArea:new Vi(Wi.POLYGON,Mp.MARKER)};return this.a[c]=d=new Uj(a,b)};\nvar Jp={MARKER:\'<svg width="26" height="33" enable-background="new 0 0 26 33" viewBox="0 0 26 33" xmlns="http://www.w3.org/2000/svg"><path d="m26 33h-26v-33h26z" fill="#8c8c8c" opacity="0"/><path d="m17 29.566c0 1.116-1.791 2.022-4 2.022s-4-.906-4-2.022c0-1.118 1.791-2.026 4-2.026s4 .908 4 2.026" fill="#878787" opacity=".6"/><path d="m1.795 17.971c-1.562-1.555-1.574-3.828-.028-5.655l8.343-10.021c.769-.895 1.795-1.384 2.894-1.384 1.117 0 2.197.521 2.889 1.394l8.338 10.014c1.588 1.854 1.578 4.022-.029 5.65l-11.202 11.202z" fill="{{color}}"/>{{icon}}</svg>\'},Kp=\n{CONGESTION:\'<path style="fill:#FFFFFF;" d="M12.966,1.177c0.965,0,1.894,0.442,2.496,1.204l8.378,10.258c1.362,1.592,1.482,3.477,0,4.979L12.994,28.464L2.143,17.618c-1.381-1.375-1.38-3.348,0-4.979l8.314-10.258C11.174,1.547,12.085,1.177,12.966,1.177 M12.967,0.177L12.967,0.177c-1.247,0-2.408,0.551-3.269,1.552l-8.332,10.28c-1.711,2.022-1.688,4.567,0.07,6.317l10.85,10.845l0.707,0.707l0.707-0.707l10.847-10.846c1.784-1.807,1.803-4.292,0.053-6.337L16.237,1.748C15.462,0.769,14.236,0.177,12.967,0.177L12.967,0.177z M16.645,10.405l-2.025-2.22c-0.48-0.51-1.15-0.8-1.84-0.8H9.53c-0.69,0-1.36,0.29-1.84,0.8l-1.94,2.22c-0.39,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.44l0.255-0.539c0.204-0.431,0.456-0.837,0.753-1.21l0.962-1.211l0.83-0.9c0.32-0.35,0.72-0.63,1.15-0.82H8.23c-0.28,0-0.55-0.07-0.79-0.22l-0.28-0.17l1.27-1.45c0.28-0.31,0.68-0.48,1.1-0.48h3.25c0.42,0,0.82,0.17,1.1,0.48l1.354,1.54H16.645z M18.31,12.205c-0.35-0.37-0.81-0.63-1.3-0.74c-0.18-0.04-0.36-0.06-0.54-0.06h-3.24c-0.7,0-1.37,0.29-1.84,0.8l-1.13,1.22l-0.82,1c-0.38,0.63-0.59,1.35-0.59,2.09v1.64c0,0.69,0.56,1.25,1.25,1.25h1.75v-1h5.99v1h1.75c0.69,0,1.25-0.56,1.25-1.25v-1.64c0-0.74-0.2-1.46-0.59-2.09L18.31,12.205z M12.1,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C12.35,16.993,12.238,17.105,12.1,17.105z M18.59,17.105h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C18.84,16.993,18.728,17.105,18.59,17.105z M18.56,14.505c-0.24,0.15-0.51,0.22-0.79,0.22h-5.85c-0.28,0-0.55-0.07-0.78-0.22l-0.29-0.17l1.27-1.45c0.15-0.16,0.33-0.28,0.53-0.37c0.18-0.07,0.38-0.11,0.58-0.11h3.24c0.24,0,0.48,0.06,0.68,0.16c0.16,0.08,0.3,0.19,0.42,0.32l1.27,1.45L18.56,14.505z M8.42,13.03h-1c-0.138,0-0.25-0.112-0.25-0.25v-1c0-0.138,0.112-0.25,0.25-0.25h1c0.138,0,0.25,0.112,0.25,0.25v1C8.67,12.918,8.559,13.03,8.42,13.03z"/>\',\nROADWORKS:\'<path d="m13.004 1.411c.964 0 1.894.441 2.496 1.204l8.346 10.023c1.363 1.592 1.482 3.477 0 4.979l-10.846 10.847-10.852-10.846c-1.381-1.375-1.379-3.348 0-4.979l8.346-10.023c.717-.835 1.628-1.205 2.51-1.205m0-1c-1.248 0-2.408.551-3.268 1.552l-8.356 10.035c-1.718 2.033-1.695 4.578.064 6.328l10.85 10.845.706.707.707-.707 10.846-10.846c1.784-1.808 1.803-4.293.053-6.337l-8.337-10.012c-.769-.973-1.996-1.565-3.265-1.565zm-.575 15.264c.018-.332-.13-.651-.394-.851l-2.945-2.235-.21.36c-.22.39-.41.78-.58 1.19l-.677 2.129-1.364 3.051h1.314l2.109-4.672 1.317 1.212.138 3.46h1.092zm6.16-1.327c-.401-.54-1.209-.539-1.609.001l-1.17 1.58-2.29-1.74-.139-4.054c-.011-.276-.134-.535-.342-.716l-.7-.61c-.185-.161-.422-.25-.667-.25h-1.885c-.335 0-.648.168-.833.447l-1.144 1.723 7.58 5.76-1.86 2.51c-.098.132-.004.32.161.32h6.648l1.142-1.077zm-8.79-2.989-.876-.665.841-1.018.965.043zm1.63 1.24.969-1.781.118 2.61zm2.76-5.79c-.64 0-1.16.52-1.16 1.16 0 .65.52 1.17 1.16 1.17s1.16-.52 1.16-1.17c0-.64-.52-1.16-1.16-1.16z" fill="#fff"/>\',\nACCIDENT:\'<path style="fill:#FFFFFF;" d="M12.998,1.091c0.964,0,1.894,0.442,2.496,1.204l8.346,10.344c1.363,1.592,1.482,3.477,0,4.979L12.994,28.465L2.143,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.344C11.205,1.462,12.115,1.091,12.998,1.091 M12.998,0.091L12.998,0.091c-1.248,0-2.408,0.551-3.269,1.552L1.364,12.011c-1.708,2.021-1.685,4.566,0.073,6.316l10.85,10.845l0.707,0.707l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337l-8.327-10.32C15.494,0.684,14.268,0.091,12.998,0.091L12.998,0.091z M7.83,18.982l-3.309-1.855l0.945,1.855H7.83z M16.111,19h3.942l1.596-2L16.111,19z M10.512,20.064l1.021-1.021l1.632,0.076c0.329,0.018,0.651-0.022,0.963-0.123c0.626-0.206,1.122-0.76,1.288-1.44l0.264-1.089l2.066-0.93c0.373-0.17,0.673-0.42,0.861-0.731c0.275-0.449,0.405-0.97,0.369-1.498L18.9,11.676l1.021-1.021l-0.724-0.724l-0.427,0.427l-0.121-0.364c-0.201-0.603-0.54-1.151-0.989-1.6l-1.159-1.159c-0.5-0.5-1.31-0.5-1.809,0l-1.267,1.267l0.724,0.724l-5.066,5.066l-0.724-0.724l-1.267,1.267c-0.5,0.5-0.5,1.31,0,1.809l1.159,1.159c0.449,0.449,0.997,0.788,1.6,0.989l0.364,0.121l-0.427,0.427L10.512,20.064z M14.901,10.349l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0l-0.732-0.732C14.803,10.604,14.803,10.446,14.901,10.349z M9.472,15.777l0.732-0.732c0.098-0.098,0.256-0.098,0.354,0l0.732,0.732c0.098,0.098,0.098,0.256,0,0.354l-0.732,0.732c-0.098,0.098-0.256,0.098-0.354,0L9.472,16.13C9.375,16.033,9.375,15.874,9.472,15.777z M11.391,17.615c0.069-0.271,0.206-0.518,0.405-0.717l4.961-4.961c0.195-0.195,0.445-0.337,0.717-0.405l0.344-0.083l0.137,1.925c0.022,0.318-0.058,0.63-0.221,0.901c-0.101,0.166-0.279,0.271-0.409,0.329L14.8,15.74l-0.38,1.574c-0.083,0.344-0.318,0.615-0.612,0.713c-0.188,0.058-0.38,0.083-0.579,0.072l-1.925-0.138L11.391,17.615z"/>\',\nOTHER:\'<path style="fill:#FFFFFF;" d="M13.004,1.411c0.964,0,1.894,0.441,2.496,1.204l8.346,10.023c1.363,1.592,1.482,3.477,0,4.979L13,28.465L2.148,17.618c-1.381-1.375-1.379-3.348,0-4.979l8.346-10.023C11.211,1.781,12.122,1.411,13.004,1.411 M13.004,0.411L13.004,0.411c-1.248,0-2.408,0.551-3.268,1.552L1.38,11.998c-1.718,2.033-1.694,4.579,0.064,6.328l10.85,10.845L13,29.878l0.707-0.707l10.846-10.846c1.784-1.808,1.803-4.293,0.053-6.337L16.269,1.976C15.5,1.003,14.273,0.411,13.004,0.411L13.004,0.411z M14.716,20.139c0,0.947-0.758,1.724-1.724,1.724c-0.947,0-1.704-0.777-1.704-1.724c0-0.928,0.757-1.704,1.704-1.704C13.958,18.435,14.716,19.211,14.716,20.139z M14.204,16.33H11.78l-0.537-8.533h3.5L14.204,16.33z"/>\'},\nLp={BLOCKING:"#323232",VERYHIGH:"#d5232f",HIGH:"#ffa100"},Mp={MARKER:[24.1,17.8,14.2,28.42,16.8,29.4,12.8,31.4,8.79,29.4,11.23,28.42,1.7,17.8,1.7,12.1,10,1.9,12.9,.498,15.8,1.9,24.1,12.1,24.1,17.8]};function Np(a,b,c){c=c?c:{};c.criticality||(c.criticality="major,critical");C(a,Op,Np,0);Hp.call(this,{max:20,min:8,requestData:A(this.N,this),engineType:c.engineType});this.c=new Ip;this.v=a;this.i=c;this.reload=A(this.reload,this);this.u=setInterval(this.reload,b||18E4)}u(Np,Hp);t("H.service.traffic.incidents.Provider",Np);var Pp={minor:"HIGH","low impact":"HIGH",major:"VERYHIGH",critical:"BLOCKING"};\nNp.prototype.N=function(a,b,c,d,e){var f=this,g=this.c;return this.v.requestIncidentsByTile(a,b,c,function(h){var k=[];h=h.TRAFFIC_ITEMS;var l;if(h)for(h=h.TRAFFIC_ITEM,l=h.length;l--;){var m=h[l];var n=m.TRAFFIC_ITEM_TYPE_DESC;switch(n){case "ACCIDENT":case "CONGESTION":var q=n;break;case "CONSTRUCTION":q="ROADWORKS";break;default:q="OTHER"}q=g.rb(q,Pp[m.CRITICALITY.DESCRIPTION]);n=m.LOCATION.GEOLOC.ORIGIN;n=new Ln({lat:n.LATITUDE,lng:n.LONGITUDE},{provider:f,icon:q});n.setData(m);k.push(n)}d(k)},\ne,this.i)};Np.prototype.D=function(){Hp.prototype.D.call(this);clearInterval(this.u)};Np.prototype.dispose=Np.prototype.D;var Qp="A21 A22 F01 F02 F08 F04 F05 F07 F03 F06 A2F F13 A25 A2C F12 D1B F1B A27 E12 A3A A24 A3D A3F F1F F25 F2C E32 A33 F29 D26 D36 F26 D0F F0F F2B E0C D3A A45 D23 D11 F2E F19 F14 F39 A4A A4B A5C D38 F2A F1A D0A F1C A48 D25 D1D F32 A46 A3E D24 E1C E32 A5F D2E D22 D0A".split(" ");function Rp(a,b,c,d){Rp.l.constructor.call(this,{min:10,max:21,engineType:d});C(a,Op,Rp,0);this.u=a;this.c=c||Sp;this.c.responseattributes="sh,fc";this.i=setInterval(A(this.reload,this),b||18E4);this.a===ik.WEBGL?this.lb(new qi(uo()+"/traffic/flow.yaml"),!0):this.lb(new H.map.render.harp.Style({styles:[{when:["==",["geometry-type"],"LineString"],technique:"solid-line",renderOrder:10002,attr:{color:["case",[">=",["get","JF"],10],"black",[">=",["get","JF"],8],"red",[">=",["get","JF"],4],"yellow","green"],\nlineWidth:3,metricUnit:"Pixel"}}]}))}u(Rp,T);t("H.service.traffic.flow.Provider",Rp);Rp.prototype.Yh=ff;Rp.prototype.providesGeoJSON=Rp.prototype.Yh;Rp.prototype.$=function(){return this.ab()};Rp.prototype.getStyle=Rp.prototype.$;Rp.prototype.xb=function(a){a.b&&a.b("GeoJSONTileSource");this.lb(a)};Rp.prototype.setStyle=Rp.prototype.xb;var Sp={locationreferences:"tmc,shp"};Rp.prototype.o=function(){Rp.l.o.call(this);clearInterval(this.i)};\nRp.prototype.G=function(a,b,c,d,e){return this.u.requestFlowByTile(a,b,c,function(f){f.type&&-1!==f.type.indexOf("Error")?e(f.Details):d(f)},e,this.c)};Rp.prototype.requestInternal=Rp.prototype.G;\nRp.prototype.Vb=function(a,b,c,d,e){var f,g,h,k,l={type:"FeatureCollection",features:[]},m;var n=d.RWS.length;for(f=0;f<n;f++){var q=d.RWS[f];var r=q.RW;var v=r.length;var w=-1!==Qp.indexOf(q.EXTENDED_COUNTRY_CODE+q.EBU_COUNTRY_CODE);for(q=0;q<v;q++){var z=r[q].FIS;var J=z.length;for(z=0;z<J;z++){var I=r[q].FIS[z].FI;var Q=I.length;for(g=0;g<Q;g++){var S=I[g];var la=[];var ea=S.CF[0];var Za=!!ea.SSS;var Oa={type:"Feature",properties:ea,geometry:{type:"MultiLineString",coordinates:la}};Oa.properties.LHT=\nw;S.SHP.length&&(Oa.properties.FC=S.SHP[0].FC);Za&&(m=[]);for(ea=0;ea<S.SHP.length;ea++){var qd=S.SHP[ea].value;var Mi=qd.length;for(h=0;h<Mi;h++){var Ze=Za?m:void 0,Yb=new ko(qd[h].trim()),hg=[],hd={};for(Yb.de();-1!==(k=Yb.Kb());)k===Tp?(hd.lat=+String.fromCharCode.apply(Rp,Yb.Dd()),Yb.next(),Yb.de()):k===Up?(hd.lng=+String.fromCharCode.apply(Rp,Yb.Dd()),hg.push([hd.lng,hd.lat]),Ze&&Ze.push(ng(hd)),hd=[],Yb.next(),Yb.de()):Yb.next();hd.lng=+String.fromCharCode.apply(Rp,Yb.Dd());hg.push([hd.lng,\nhd.lat]);Ze&&Ze.push(ng(hd));k=hg;la.push(k)}}l.features.push(Oa)}}}}return Rp.l.Vb.call(this,a,b,c,l,e)};Rp.prototype.createTileInternal=Rp.prototype.Vb;var Up=32,Tp=44;function Vp(a,b){b=void 0===b?{}:b;if(!a.Tj)throw new Yc(a);Vp.l.constructor.call(this);var c=Wp(this,b);if(!c.baseUrl&&!c.platformBaseUrl)throw new D(a,0,\'either "baseUrl" or "platformBaseUrl" must be specified\');this.i=(c.baseUrl?c.baseUrl:c.platformBaseUrl).clone();a=c.baseUrl?b:c;a.host&&this.i.Ye(a.host);a.subDomain&&this.i.za(a.subDomain);a.path&&this.i.td(a.path);Cp(this.i);this.g=c.headers||{}}u(Vp,F);t("H.service.Service",Vp);function Wp(a,b){a=a.Ia();return b?rp({},a,b):a}\nVp.prototype.Ia=function(){return{}};Vp.prototype.C=function(){return this.i};Vp.prototype.getUrl=Vp.prototype.C;Vp.prototype.G=function(a,b,c,d){d=new tf(void 0===d?"application/json":d,a.toString(),he,{headers:this.g});d.then(b,Xp(this,a,c));return d};function Xp(a,b,c){return function(d){return"function"!==typeof d.json?Promise.reject(c(Yp(b,d))):d.json().then(function(e){return c(a.a(e))},function(){return c(Yp(b,d))})}}Vp.prototype.a=function(a){return Error(a.message)};\nfunction Yp(a,b){return Error((b.statusText?"["+b.statusText+"] ":"")+a+" request failed")};function Zp(a){function b(m){d.contains(e)&&d.removeChild(e);l&&clearTimeout(l);delete Zp.a[f];m&&a.ij&&a.ij.call(k,m)}if(!a.url||!a.Ig)throw Error(\'Parameter "options" must specify at least a URL and a callback.\');if("function"!==typeof a.Ig)throw Error("Parameters options.callback must be a function");var c=a.Mo||document;var d=c.getElementsByTagName("head")[0];var e=c.createElement("script");c=a.url instanceof W?a.url:wp(a.url,a.Lo);var f=Zp.b++;var g=a.wl||"callback";var h=a.Ig;var k={};var l=\nnull;k.id=f;k.cancel=function(){b("cancelled")};0!==a.timeout&&(l=x.setTimeout(function(){b("timeout")},a.timeout||3E4));Zp.a[f]=function(m){b();h.call(k,m)};e.type="text/javascript";e.src=c.toString()+(c.Mj()?"&":"?")+g+"="+(a.No?"H.service.jsonp.handleResponse("+f+")":encodeURI("H.service.jsonp.handleResponse("+f+")"));d.appendChild(e);return k}t("H.service.jsonp",Zp);Zp.dn=function(a){return(a=Zp.a[a])?a:function(){}};Zp.handleResponse=Zp.dn;Zp.b=0;Zp.a={};function Op(a){Op.l.constructor.call(this,Op,a);this.b=Wp(this,a).callbackKey}u(Op,Vp);t("H.service.traffic.Service",Op);Op.prototype.Ia=function(){return{subDomain:"traffic.ls",path:"traffic/6.1",callbackKey:"jsoncallback"}};Op.CONFIG_KEY="traffic";Op.prototype.Xi=function(a,b){return new ql(new Rp(this,void 0,a,b),{max:22})};Op.prototype.createFlowLayer=Op.prototype.Xi;Op.prototype.Yi=function(a){return new Mn(new Np(this,void 0,a))};Op.prototype.createIncidentsLayer=Op.prototype.Yi;\nfunction $p(a,b,c,d){return Zp({url:b,Ig:c,ij:function(e){d(Error("["+e+"] "+b+" request failed"))},wl:a.b})}Op.prototype.bo=function(a,b,c){a=this.C().clone().F("incidents.json").I(a);return $p(this,a,b,c)};Op.prototype.requestIncidents=Op.prototype.bo;Op.prototype.ao=function(a,b,c,d,e,f){a=this.C().clone().F(["flow/json",c,a,b].join("/")).I(f||{});return $p(this,a,d,e)};Op.prototype.requestFlowByTile=Op.prototype.ao;\nOp.prototype.co=function(a,b,c,d,e,f){a=this.C().clone().F(["incidents/json",c,a,b].join("/")).I(f||{});return $p(this,a,d,e)};Op.prototype.requestIncidentsByTile=Op.prototype.co;X.prototype.Fj=function(a){return this.Ma(Op,a)};X.prototype.getTrafficService=X.prototype.Fj;function aq(a){aq.l.constructor.call(this,aq,a);this.b=Wp(this,a).reverseSubDomain}u(aq,Vp);t("H.service.GeocodingService",aq);aq.prototype.Ia=function(){return{subDomain:"geocoder.ls",reverseSubDomain:"reverse",path:"6.2"}};aq.CONFIG_KEY="geocoding";aq.prototype.a=function(a){return Error(a.Details||a.message||a.error)};aq.prototype.Tg=function(a,b,c){a=this.C().clone().F("geocode.json").I(a);return this.G(a,b,c)};aq.prototype.geocode=aq.prototype.Tg;\naq.prototype.bi=function(a,b,c){a=this.C().clone().F("reversegeocode.json").I(a);this.b&&a.za(this.b);return this.G(a,b,c)};aq.prototype.reverseGeocode=aq.prototype.bi;aq.prototype.search=function(a,b,c){a=this.C().clone().F("search.json").I(a);return this.G(a,b,c)};aq.prototype.search=aq.prototype.search;X.prototype.tj=function(a){sp(X.prototype.tj,"Use H.service.Platform#getSearchService instead");return this.Ma(aq,a)};X.prototype.getGeocodingService=X.prototype.tj;function bq(a){bq.l.constructor.call(this,bq,a)}u(bq,Vp);t("H.service.PlacesService",bq);bq.prototype.Ia=function(){return{subDomain:"places.ls",path:"places/v1"}};bq.CONFIG_KEY="places";bq.EntryPoint={SEARCH:"discover/search",SUGGEST:"suggest",EXPLORE:"discover/explore",AROUND:"discover/around",HERE:"discover/here",CATEGORIES:"categories/places"};bq.prototype.request=function(a,b,c,d){return cq(this,a,b,c,d)};bq.prototype.request=bq.prototype.request;\nfunction cq(a,b,c,d,e){b=a.C().clone().F(b).I(c||{});return a.G(b,d,e)}bq.prototype.search=function(a,b,c){return cq(this,"discover/search",a,b,c)};bq.prototype.search=bq.prototype.search;bq.prototype.po=function(a,b,c){return cq(this,"suggest",a,b,c)};bq.prototype.suggest=bq.prototype.po;bq.prototype.Gl=function(a,b,c){return cq(this,"discover/explore",a,b,c)};bq.prototype.explore=bq.prototype.Gl;bq.prototype.sl=function(a,b,c){return cq(this,"discover/around",a,b,c)};bq.prototype.around=bq.prototype.sl;\nbq.prototype.fn=function(a,b,c){return cq(this,"discover/here",a,b,c)};bq.prototype.here=bq.prototype.fn;bq.prototype.xl=function(a,b,c){return cq(this,"categories/places",a,b,c)};bq.prototype.categories=bq.prototype.xl;bq.prototype.Hl=function(a,b,c,d){a=wp(a).I(this.C().getQuery()).I(d||{});return this.G(a,b,c)};bq.prototype.follow=bq.prototype.Hl;X.prototype.Bj=function(a){sp(X.prototype.Bj,"Use H.service.Platform#getSearchService instead");return this.Ma(bq,a)};\nX.prototype.getPlacesService=X.prototype.Bj;function dq(){this.a={}}function eq(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d,e=b[c],f=a.a[c]||(a.a[c]=[]),g=e.length;for(d=0;d<g;d++)f.push(new fq(e[d]))}}function Gp(a,b,c,d){var e=(a=a.a[b])?a.length:0,f=[];for(b=0;b<e;b++)a[b].jd(c,d)&&f.push(a[b]);return f}\nfunction fq(a){var b,c=a.boxes;this.label=a.label;this.min=a.minLevel;this.max=a.maxLevel;this.b=[];if(c&&(b=c.length)){var d=c[0];var e=new K(d[0],d[1],d[2],d[3]);this.b.push(e);this.a=new K(d[0],d[1],d[2],d[3]);for(a=1;a<b;a++)d=c[a],e=new K(d[0],d[1],d[2],d[3]),this.b.push(e),this.a.$b(e,!1,this.a)}}fq.prototype.jd=function(a,b){if(a>=this.min&&a<=this.max)if((a=this.b.length)&&this.a){if(this.a.jd(b))for(;a--;)if(this.b[a].jd(b))return!0}else return!0;return!1};function gq(a,b,c){var d=this,e=c||{},f=+e.min,g=+e.max;e.tileSize=e.tileSize||512;e.min=f?Zd(f,1,17):1;e.min+=Nk(e.tileSize,1);e.max=g?Zd(g,1,17):17;gq.l.constructor.call(this,e);C(a,hq,gq,0);C(b,Th,gq,1);this.j=a;b.b&&b.b("OMV");this.lb(b,!0);this.c=!1;c&&(c.politicalView&&(this.i=c.politicalView),iq(this,c.lg,c.lg2),this.c=!!c.pois);this.N=function(){jq(d);d.reload(!1)};a.addEventListener("versionupdate",this.N);jq(this);gq.prototype.V=function(){var h=/^v2\\/vectortiles\\/(.+)\\/mc$/.exec(a.C().b);\nreturn h?h[1]:B+""}()}u(gq,T);t("H.service.omv.Provider",gq);gq.prototype.md=ff;gq.prototype.providesOMV=gq.prototype.md;function jq(a){var b=a.hd("_#-;,:","_#-;,:","_#-;,:");a.Y=new RegExp("^"+b.replace(/[.*+?^${}()|[\\]\\\\\\/]/g,"\\\\$&").replace(/_#-;,:/g,"\\\\d+")+"$")}gq.prototype.Tb=function(a){return this.Y.test(a)};gq.prototype.cacheFilter=gq.prototype.Tb;gq.prototype.hd=function(a,b,c){return kq(this.j,a,b,c).toString()};gq.prototype.getTileKey=gq.prototype.hd;gq.prototype.Fb=function(){return this.ua};\ngq.prototype.getCache=gq.prototype.Fb;gq.prototype.Em=function(){return this.i};gq.prototype.getPoliticalView=gq.prototype.Em;gq.prototype.io=function(a){var b=this.i;this.i=a;this.dispatchEvent(new aj("politicalviewchange",this.i,b))};gq.prototype.setPoliticalView=gq.prototype.io;gq.prototype.MAX_STORE_TIME=2592E6;gq.prototype.m=function(){return md()};gq.prototype.f=function(){return md()?ld():gq.l.f.call(this)};gq.prototype.G=function(a,b,c,d,e){return this.j.Qa(a,b,c,d,e)};\ngq.prototype.requestInternal=gq.prototype.G;gq.prototype.xb=function(a){a.b&&a.b("OMV");this.lb(a)};gq.prototype.setStyle=gq.prototype.xb;gq.prototype.$=function(){return gq.l.ab.apply(this)};gq.prototype.getStyle=gq.prototype.$;\ngq.prototype.ab=function(){var a=gq.l.ab.apply(this),b=a.getState()===Uh.READY,c=a.lc();b?c&&c.global&&(this.u&&(this.K&&(c.global.ux_language=this.K),this.B&&(c.global.ux_language_fallback=this.B)),this.c&&c.global.poi&&c.global.poi["default"]&&(c.global.poi["default"].visible=this.c),this.u||this.c)&&(a=new qi(c,a.Db())):a.load();return a};gq.prototype.getStyleInternal=gq.prototype.ab;\nfunction iq(a,b,c){var d=Ac(b),e=Ac(c);d&&(a.K=b);e&&(a.B=c);if(d||e)a.v=[],d=/^([a-zA-Z]{2})(-|$)/,(b=d.exec(b))&&a.v.push(b[1]),(b=d.exec(c))&&a.v.push(b[1]),a.u=!0}gq.prototype.u=!1;var lq=["en"];gq.prototype.ah=function(){return this.v||lq};gq.prototype.getLanguages=gq.prototype.ah;gq.prototype.o=function(){gq.l.o.call(this);this.j.removeEventListener("versionupdate",this.N)};gq.prototype.ua=new Pk(256);gq.prototype.ca=function(a,b){return Gp(this.j.ca(),this.V,b,a)};\ngq.prototype.getCopyrights=gq.prototype.ca;function hq(a){hq.l.constructor.call(this,hq,a);a=Wp(this,a).mapVersion;this.b=uc(a)?a:mq[this.C().toString()];uc(this.b)||nq(this)}u(hq,Vp);t("H.service.omv.Service",hq);hq.prototype.Ia=function(){return{subDomain:"vector",path:"v2/vectortiles/base/mc"}};hq.CONFIG_KEY="omv";var mq={};Gc(mq);hq.prototype.vm=function(){return this.b};hq.prototype.getMapVersion=hq.prototype.vm;\nfunction nq(a){a.G(a.C().clone().F("../../info"),function(b){b=b.mapVersion;var c=a.C().toString();a.b=b;b!==mq[c]&&(mq[c]=b,a.dispatchEvent("versionupdate"))},function(){})}hq.prototype.cd=function(a,b,c){b=b||{};var d={min:0,max:22};Ea(c)&&rp(d,c);Gn&&(b.min=d.min=4);return new ql(new gq(this,a,b),d)};hq.prototype.createLayer=hq.prototype.cd;hq.prototype.Qa=function(a,b,c,d,e){return this.G(kq(this,a,b,c),function(f){return f.arrayBuffer().then(d,e)},e,"arraybuffer")};\nfunction kq(a,b,c,d){b=a.C().clone().F(d+"/"+b+"/"+c+"/omv");uc(a.b)&&b.I({mv:a.b});return b}hq.prototype.Fe=function(a,b){if(!Da(a))throw new D(this.Fe,0,\'"onResult" must be a function\');if(!Da(b))throw new D(this.Fe,1,\'"onError" must be a function\');return this.G(this.C().clone().td("v2/vectortiles/pviews"),a,b)};hq.prototype.getPoliticalViews=hq.prototype.Fe;X.prototype.De=function(a){return this.Ma(hq,a)};X.prototype.getOMVService=X.prototype.De;hq.prototype.f=function(a){eq(this.c,a);this.dispatchEvent("copyrightupdate")};\nhq.prototype.ca=function(){this.c||(this.c=new dq,this.G(this.C().clone().F("../../copyrights"),A(this.f,this),jd));return this.c};hq.prototype.getCopyrights=hq.prototype.ca;function oq(a){oq.l.constructor.call(this,oq,a);this.b=a.getToken}u(oq,Vp);t("H.service.iml.Service",oq);oq.prototype.Ia=function(){return{host:"interactive.data.api.platform.here.com",path:"interactive/v1/catalogs"}};\noq.prototype.a=function(a){function b(){for(var d=fa(c),e=d.next();!e.done;e=d.next()){e=e.value;var f=e.format;if(e.keys.every(function(g){return a[g]}))return f()}return JSON.stringify(a)}var c=[{keys:["code","title","cause","action"],format:function(){return a.code+": "+a.title+"; cause: "+a.cause+"; action: "+a.action}},{keys:["error","error_description"],format:function(){return a.error+": "+a.error_description}},{keys:["error","errorMessage"],format:function(){return a.error+": "+a.errorMessage}}];\nreturn Error(Ea(a)?b():a)};oq.prototype.Od=function(a,b,c,d,e){var f=this.Od;pq(f,0,a,b);qq(f,2,c,d);a=this.C().clone().F(a+"/layers/"+b+"/statistics").I(e||{});return rq(this,a,"GET",c,d)};oq.prototype.getStatistics=oq.prototype.Od;oq.prototype.Af=function(a,b,c,d,e,f,g,h,k){var l=k?"":".mvtf";a=this.C().clone().F(d+"/layers/"+e+"/tile/web/"+c+"_"+a+"_"+b+l).I(Object.assign({clip:!0},h));return rq(this,a,"GET",k?f:function(m){return m.arrayBuffer().then(f)},g,void 0,k?"application/json":"arraybuffer")};\noq.prototype.getFeaturesByTile=oq.prototype.Af;oq.prototype.qj=function(a,b,c,d,e,f){var g=this.qj;sq(g,a);pq(g,1,b,c);qq(g,3,d,e);a=tq(this,a,b,c,f);return rq(this,a,"GET",d,e)};oq.prototype.getFeatureById=oq.prototype.qj;oq.prototype.Nc=function(a,b,c,d,e,f){var g=this.Nc;vq(g,a);pq(g,1,b,c);qq(g,3,d,e);a=wq(this,a,b,c,f);return rq(this,a,"GET",d,e)};oq.prototype.getFeaturesById=oq.prototype.Nc;\noq.prototype.Hd=function(a,b,c,d,e){var f=this.Hd;if(!Ea(a)||!(a.bbox||a.north&&a.east&&a.south&&a.west))throw new D(f,0,\'must be an object with either "bbox" or a full set of "north", "east", "south" and "west"\');pq(f,1,b,c);qq(f,3,d,e);a=this.C().clone().F(b+"/layers/"+c+"/bbox").I(a);return rq(this,a,"GET",d,e)};oq.prototype.getFeaturesByBoundingBox=oq.prototype.Hd;\noq.prototype.sj=function(a,b,c,d,e){var f=this.sj;if(!(Ea(a)&&a.radius&&(a.lat&&(a.lng||a.lon)||a.refCatalogHrn&&a.refLayerId&&a.refFeatureId)))throw new D(f,0,\'must be an object with "radius" and a combination of either "lat"+"lng" or "refCatalogHrn"+"refLayerId"+"refFeatureId"\');pq(f,1,b,c);qq(f,3,d,e);a=this.C().clone().F(b+"/layers/"+c+"/spatial").I(a);return rq(this,a,"GET",d,e)};oq.prototype.getFeaturesByPointAndRadius=oq.prototype.sj;\noq.prototype.rj=function(a,b,c,d,e,f){var g=this.rj;if(!Ea(a)||!a.radius)throw new D(g,0,\'must be an object with "radius"\');xq(g,1,b);pq(g,2,c,d);qq(g,4,e,f);a=this.C().clone().F(c+"/layers/"+d+"/spatial").I(a);return rq(this,a,"POST",e,f,b)};oq.prototype.getFeaturesByGeometryAndRadius=oq.prototype.rj;oq.prototype.Lk=function(a,b,c,d,e){var f=this.Lk;pq(f,0,a,b);qq(f,2,c,d);a=this.C().clone().F(a+"/layers/"+b+"/search").I(e||{});return rq(this,a,"GET",c,d)};oq.prototype.searchFeatures=oq.prototype.Lk;\noq.prototype.Xj=function(a,b,c,d,e){var f=this.Xj;pq(f,0,a,b);qq(f,2,c,d);a=this.C().clone().F(a+"/layers/"+b+"/iterate").I(e||{});return rq(this,a,"GET",c,d)};oq.prototype.iterateFeatures=oq.prototype.Xj;oq.prototype.Vc=function(a,b,c,d,e,f){var g=this.Vc;xq(g,0,a);pq(g,1,b,c);qq(g,3,d,e);b=yq(this,b,c,f);return rq(this,b,"PUT",d,e,a)};oq.prototype.putFeatures=oq.prototype.Vc;\noq.prototype.Tc=function(a,b,c,d,e,f){var g=this.Tc;xq(g,0,a);pq(g,1,b,c);qq(g,3,d,e);b=yq(this,b,c,f);return rq(this,b,"POST",d,e,a)};oq.prototype.postFeatures=oq.prototype.Tc;oq.prototype.dd=function(a,b,c,d,e){var f=this.dd;vq(f,a);pq(f,1,b,c);qq(f,3,d,e);a=wq(this,a,b,c);return rq(this,a,"DELETE",d,e)};oq.prototype.deleteFeatures=oq.prototype.dd;oq.prototype.Ek=function(a,b,c,d,e,f,g){var h=this.Ek;sq(h,a);xq(h,1,b);pq(h,2,c,d);qq(h,4,e,f);a=tq(this,a,c,d,g);return rq(this,a,"PUT",e,f,b)};\noq.prototype.putFeature=oq.prototype.Ek;oq.prototype.yk=function(a,b,c,d,e,f,g){var h=this.yk;sq(h,a);xq(h,1,b);pq(h,2,c,d);qq(h,4,e,f);a=tq(this,a,c,d,g);return rq(this,a,"PATCH",e,f,b)};oq.prototype.patchFeature=oq.prototype.yk;oq.prototype.bj=function(a,b,c,d,e){var f=this.bj;sq(f,a);pq(f,1,b,c);qq(f,3,d,e);a=tq(this,a,b,c);return rq(this,a,"DELETE",d,e,void 0,"text/plain")};oq.prototype.deleteFeature=oq.prototype.bj;\nfunction yq(a,b,c,d){return a.C().clone().F(b+"/layers/"+c+"/features").I(d||{})}function wq(a,b,c,d,e){b=Object.assign({},e,{id:new Ap(b)});return yq(a,c,d,b)}function tq(a,b,c,d,e){return a.C().clone().F(c+"/layers/"+d+"/features/"+b).I(e||{})}\nfunction rq(a,b,c,d,e,f,g){g=void 0===g?"application/json":g;c={method:c,headers:Object.assign({},f?{"Content-Type":"application/geo+json"}:void 0,"function"===typeof a.b?{Authorization:"Bearer "+a.b()}:void 0,a.g)};f&&(c.data=JSON.stringify(f));f=new tf(g,b.toString(),he,c);f.then(d,Xp(a,b,e));return f}oq.CONFIG_KEY="iml";function pq(a,b,c,d){xc(c,"String",a,b,"must be a string");xc(d,"String",a,b+1,"must be a string")}function sq(a,b){xc(b,"String",a,0,"must be a string")}\nfunction vq(a,b){if(!Array.isArray(b)||0===b.length||b.some(function(c){return"string"!==typeof c}))throw new D(a,0,"must be a non-empty array of strings");}function xq(a,b,c){if(!Ea(c))throw new D(a,b,"must be a GeoJSON object");}function qq(a,b,c,d){if(!Da(c))throw new D(a,b,"must be a function");if(!Da(d))throw new D(a,b+1,"must be a function");}X.prototype.lm=function(a){return this.Ma(oq,a)};X.prototype.getIMLService=X.prototype.lm;function zq(a,b,c,d){zq.l.constructor.call(this,d?{min:d.min,max:d.max,engineType:d.engineType}:void 0);C(a,oq,zq,0);if(!Ac(b))throw new D(zq,1,\'"catalogHrn" must be a string\');if(!Ac(c))throw new D(zq,2,\'"layerId" must be a string\');this.v=a;this.c=b;this.i=c;this.u=Ea(d)&&Ea(d.parameters)?d.parameters:{};this.lb(this.a===ik.WEBGL?new qi({sources:{iml:{type:"MVT"}},layers:{iml:{data:{source:"iml",layer:this.c+":"+this.i},points:{filter:{$geometry:"point"},draw:{points:{collide:!1,order:200,color:"#92CF48",\nsize:[[10,"8px"],[14,"12px"],[18,"16px"]]}}},polygons:{filter:{$geometry:"polygon"},draw:{polygons:{order:201,color:"#E39E3C"},lines:{order:202,color:"#755DA5",width:"1px"}}},lines:{filter:{$geometry:"line"},draw:{lines:{order:203,color:"#0258AE",width:"2px",join:"round",cap:"round"}}}}}}):new H.map.render.harp.Style({styles:[{layer:this.c+":"+this.i,when:["==",["geometry-type"],"Point"],technique:"circles",renderOrder:200,color:"#92CF48",size:["interpolate",["linear"],["zoom"],10,8,14,12,18,16]},\n{layer:this.c+":"+this.i,when:["==",["geometry-type"],"Polygon"],technique:"fill",color:"#E39E3C",renderOrder:201},{layer:this.c+":"+this.i,when:["==",["geometry-type"],"Polygon"],technique:"solid-line",color:"#755DA5",lineWidth:"1px",renderOrder:202},{layer:this.c+":"+this.i,when:["==",["geometry-type"],"LineString"],technique:"solid-line",color:"#0258AE",lineWidth:"2px",renderOrder:203}]}))}u(zq,T);t("H.service.iml.Provider",zq);\nzq.prototype.G=function(a,b,c,d,e){return this.v.Af(a,b,c,this.c,this.i,d,e,this.u)};zq.prototype.requestInternal=zq.prototype.G;zq.prototype.md=ff;zq.prototype.providesOMV=zq.prototype.md;zq.prototype.$=function(){return this.ab()};zq.prototype.getStyle=zq.prototype.$;zq.prototype.xb=function(a){C(a,qi)&&a.b("MVT");this.lb(a)};zq.prototype.setStyle=zq.prototype.xb;function Fp(a){a=void 0===a?{}:a;Fp.l.constructor.call(this,Fp,a);this.b={fg:a.resource||"base",Xf:a.projection||"mc",format:a.format||"png"};this.f=a.queryParams||{}}u(Fp,Vp);t("H.service.rasterTile.Service",Fp);p=Fp.prototype;p.$=function(){return this.f.style||"explore.day"};p.Ia=function(){return{subDomain:"maps",path:"v3"}};p.ca=function(){this.c||(this.c=new dq,this.G(this.C().clone().F("copyright"),A(this.An,this),jd));return this.c};\np.An=function(a){var b=a.copyrights;a=a.resources;var c={},d=this.b.fg+"."+this.$();c[d]=[];a[this.b.fg].styles[this.$()].forEach(function(e){b[e].forEach(function(f){var g=[];f.boundingBoxes.forEach(function(h){g.push([h.north,h.west,h.south,h.east])});c[d].push({boxes:g,label:f.label,alt:f.alt,minLevel:f.minLevel,maxLevel:f.maxLevel})})});eq(this.c,c)};p.Be=function(a,b){return this.G(this.C().clone().F("info"),a,b)};Fp.prototype.getInfo=Fp.prototype.Be;\nFp.prototype.Fe=function(a,b){return this.G(this.C().clone().F("politicalViews"),a,b)};Fp.prototype.getPoliticalViews=Fp.prototype.Fe;Fp.prototype.hm=function(a,b){return this.G(this.C().clone().F("features"),a,b)};Fp.prototype.getFeatures=Fp.prototype.hm;Fp.prototype.ah=function(a,b){return this.G(this.C().clone().F("languages"),a,b)};Fp.prototype.getLanguages=Fp.prototype.ah;Fp.CONFIG_KEY="rasterTile";X.prototype.gh=function(a){return this.Ma(Fp,a)};X.prototype.getRasterTileService=X.prototype.gh;function Aq(a,b,c,d,e,f,g){var h=this;g=g||{};f=f?f:{};var k=a.C().clone().F(b+"/"+a.pc()+"/"+c).I(f),l=a.c;this.B=a;this.N=k;Ck.call(this,{tileSize:d,max:512===d?19:20,min:512===d?2:0,getURL:function(m,n,q){var r=h.N.clone();l&&r.za(l[(q+n+m)%l.length]);r.F(q+"/"+m+"/"+n+"/"+d+"/"+e);return r.toString()},crossOrigin:g.crossOrigin,headers:g.headers,uri:k.toString().replace(/_/g,"")+d,engineType:g.engineType});this.Ya=b;this.ya=c;this.ua=f;this.V=c.split(".")[0];this.i=A(this.i,this);this.getCopyrights=\nthis.ca;a.addEventListener("versionupdate",this.i)}u(Aq,Ck);Aq.prototype.MAX_STORE_TIME=2592E6;Aq.prototype.o=function(){Ck.prototype.o.call(this);this.B.removeEventListener("versionupdate",this.i)};Aq.prototype.ca=function(a,b){return Gp(this.B.ca(),this.V,b,a)};Aq.prototype.getCopyrights=Aq.prototype.ca;Aq.prototype.i=function(){var a=this.B;this.N=a.C().clone().F(this.Ya+"/"+a.pc()+"/"+this.ya).I(this.ua);this.reload(!1)};Aq.prototype.m=function(){return md()};\nAq.prototype.f=function(){return md()?ld():Aq.l.f.call(this)};function Bq(a){Bq.l.constructor.call(this,Bq,a);a=Wp(this,a);this.c=a.shards;(this.f=a.ignoreTypes?null:a.type)&&this.C().za(this.f);this.b=a.version;this.m=new dq;this.s={};this.j=0;"newest"===this.b&&Cq(this)}u(Bq,Vp);t("H.service.MapTileService",Bq);Bq.prototype.Ia=function(){return{subDomain:"maps.ls",path:"maptile/2.1",type:"base",version:"newest",shards:["1","2","3","4"]}};Bq.CONFIG_KEY="maptile";function Dq(a,b){for(var c={},d=a[b+"s"][b],e=d.length;e--;)c[d[e].id]=d[e];a[b+"s"]=c}\nBq.prototype.Gj=function(){return this.f};Bq.prototype.getType=Bq.prototype.Gj;Bq.prototype.pc=function(){return this.b};Bq.prototype.getVersion=Bq.prototype.pc;Bq.prototype.ca=function(){this.j||(this.b&&"newest"!==this.b||"traffic"===this.f)&&Eq(this);return this.m};Bq.prototype.getCopyrights=Bq.prototype.ca;\nfunction Cq(a){var b=a.C().clone().F("info").I({output:"json"});a.c&&b.za(a.c[0]);a.G(b,function(c){c=c.response;var d;Dq(c,"map");Dq(c,"scheme");Dq(c,"tiletype");Dq(c,"format");Dq(c,"resolution");Dq(c,"language");if("newest"===a.b&&"traffic"!==a.f)for(d in c.maps)c.maps[d].hash&&c.maps[d].newest&&(a.b=c.maps[d].hash,a.dispatchEvent("versionupdate"));a.u=c;a.dispatchEvent("infoupdate")},function(c){throw c;})}\nfunction Eq(a){var b=a.C().clone().F("copyright").F(a.pc()).I({output:"json"});a.c&&b.za(a.c[0]);a.j=1;a.G(b,function(c){a.j=2;eq(a.m,c);a.dispatchEvent("copyrightupdate")},function(c){a.j=-1;throw c;})}Bq.prototype.Be=function(){return this.u};Bq.prototype.getInfo=Bq.prototype.Be;\nBq.prototype.qe=function(a,b,c,d,e,f){var g=this.C().clone().F(a+"/"+this.pc()+"/"+b+"/"+c+"/"+d).I(e?e:{}).toString();var h=0,k,l=g.length;if(0!==l)for(k=0;k<l;k++){var m=g.charCodeAt(k);h=(h<<5)-h+m;h|=0}g=h;h=this.s[g];h||(h=new Aq(this,a,b,c,d,e,rp({headers:this.g},f||{})),this.s[g]=h);return h};Bq.prototype.createTileProvider=Bq.prototype.qe;Bq.prototype.ic=function(a,b,c,d,e,f,g,h){a=this.qe(a,b,c,d,e,h);return new ql(a,{opacity:f,dark:!!g})};Bq.prototype.createTileLayer=Bq.prototype.ic;\nX.prototype.bh=function(a){return this.Ma(Bq,a)};X.prototype.getMapTileService=X.prototype.bh;function Fq(a){Fq.l.constructor.call(this,Fq,a)}u(Fq,Vp);t("H.service.publicTransit.Service",Fq);Fq.prototype.Ia=function(){return{subDomain:"transit.router",path:"v8"}};Fq.CONFIG_KEY="publicTransit";Fq.prototype.Mm=function(a,b,c){a=this.C().clone().F("routes").I(a);return this.G(a,b,c)};Fq.prototype.getRoutes=Fq.prototype.Mm;Fq.prototype.Zl=function(a,b,c){a=this.C().clone().F("departures").I(a);return this.G(a,b,c)};Fq.prototype.getDepartures=Fq.prototype.Zl;\nFq.prototype.Qm=function(a,b,c){a=this.C().clone().F("stations").I(a);return this.G(a,b,c)};Fq.prototype.getStations=Fq.prototype.Qm;Fq.prototype.a=function(a){return Error(JSON.stringify(a))};X.prototype.Im=function(a){return this.Ma(Fq,a)};X.prototype.getPublicTransitService=X.prototype.Im;function Gq(a){Gq.l.constructor.call(this,Gq,a);sp(Gq,"Use HERE Routing API v8 instead.")}u(Gq,Vp);t("H.service.RoutingService",Gq);Gq.prototype.Ia=function(){return{subDomain:"route.ls",path:"routing/7.2"}};Gq.prototype.a=function(a){return Error(a.details)};Gq.CONFIG_KEY="routing";Gq.prototype.zd=function(a,b,c){a=this.C().clone().F("calculateroute.json").I(a);return this.G(a,b,c)};Gq.prototype.calculateRoute=Gq.prototype.zd;\nGq.prototype.Hg=function(a,b,c){a=this.C().clone().za("isoline").F("calculateisoline.json").I(a);return this.G(a,b,c)};Gq.prototype.calculateIsoline=Gq.prototype.Hg;function Hq(a){Hq.l.constructor.call(this,Hq,a)}u(Hq,Vp);t("H.service.RoutingService8",Hq);Hq.CONFIG_KEY="routing_v8";Hq.prototype.Ia=function(){return{subDomain:"router",path:"v8/routes"}};Hq.prototype.a=function(a){return Error(a.error)};Hq.prototype.zd=function(a,b,c){a=this.C().clone().I(a);return this.G(a,b,c)};Hq.prototype.calculateRoute=Hq.prototype.zd;Hq.prototype.Hg=function(a,b,c){a=this.C().clone().za("isoline").td("v8/isolines").I(a);return this.G(a,b,c)};\nHq.prototype.calculateIsoline=Hq.prototype.Hg;X.prototype.Dj=function(a,b){b=Gn?8:+b||7;if(7===b)b=Gq;else if(8===b)b=Hq;else throw new D(this.Dj,1,"allowed values are 7 and 8");return this.Ma(b,a)};X.prototype.getRoutingService=X.prototype.Dj;function Iq(){}t("H.service.extension.dataView.ITable",Iq);Iq.prototype.Kd=function(){};Iq.prototype.getMeta=Iq.prototype.Kd;Iq.prototype.Nd=function(){};Iq.prototype.getRowCount=Iq.prototype.Nd;Iq.prototype.oc=function(){};Iq.prototype.getRow=Iq.prototype.oc;Iq.prototype.Oa=function(){};Iq.prototype.getColumnNames=Iq.prototype.Oa;Iq.prototype.xe=function(){};Iq.prototype.getColumn=Iq.prototype.xe;Iq.prototype.sa=function(){};Iq.prototype.getCell=Iq.prototype.sa;Iq.prototype.concat=function(){};\nIq.prototype.concat=Iq.prototype.concat;function Jq(){}t("H.service.extension.dataView.IRow",Jq);Jq.prototype.Oa=function(){};Jq.prototype.getColumnNames=Jq.prototype.Oa;Jq.prototype.sa=function(){};Jq.prototype.getCell=Jq.prototype.sa;Jq.prototype.gd=function(){};Jq.prototype.getTable=Jq.prototype.gd;function Kq(a,b){this.a=a;this.b=b}t("H.service.extension.dataView.ObjRow",Kq);Kq.prototype.Oa=function(){return this.a.Oa()};Kq.prototype.getColumnNames=Kq.prototype.Oa;Kq.prototype.sa=function(a){return this.a.sa(this.b,a)};Kq.prototype.getCell=Kq.prototype.sa;Kq.prototype.gd=function(){return this.a};Kq.prototype.getTable=Kq.prototype.gd;function Lq(){}t("H.service.extension.dataView.IColumn",Lq);Lq.prototype.sa=function(){};Lq.prototype.getCell=Lq.prototype.sa;function Mq(a,b){this.b=a;this.a=b}t("H.service.extension.dataView.ObjColumn",Mq);Mq.prototype.sa=function(a){return this.b.sa(a,this.a)};Mq.prototype.getCell=Mq.prototype.sa;function Nq(a,b,c){var d;b=b||(a&&a.length?Object.keys(a[0]):B);this.wb=a;if(b)for(this.Ad=b,this.Jg=a=nc(),d=b.length;d--;)a[b[d]]=!0;c!==B&&(this.Lh=c)}t("H.service.extension.dataView.ObjTable",Nq);p=Nq.prototype;p.Lh=B;p.wb=B;p.Ad=B;p.Jg=B;p.Kd=function(){return this.Lh};Nq.prototype.getMeta=Nq.prototype.Kd;Nq.prototype.Nd=function(){return this.wb?this.wb.length:0};Nq.prototype.getRowCount=Nq.prototype.Nd;Nq.prototype.oc=function(a){var b=this.wb;return b&&b[a]?new Kq(this,a):B};\nNq.prototype.getRow=Nq.prototype.oc;Nq.prototype.Oa=function(){return this.Ad||hf};Nq.prototype.getColumnNames=Nq.prototype.Oa;Nq.prototype.xe=function(a){return this.Jg[a]?new Mq(this,a):B};Nq.prototype.getColumn=Nq.prototype.xe;Nq.prototype.sa=function(a,b){var c=this.wb;return(a=c&&this.Jg[b]&&c[a])&&a[b]};Nq.prototype.getCell=Nq.prototype.sa;\nNq.prototype.concat=function(){var a=arguments.length,b,c=this.Ad,d=""+this.Ad,e=(this.wb||[]).slice();for(b=0;b<a;b++){var f=arguments[b];if(!(f instanceof Nq))throw new D(this.concat,b);if(f.wb){if(c&&""+f.Ad!==d)throw new D(this.concat,b,"Incompatible columns!");e=e.concat(f.wb)}}return new Nq(e,this.Ad,this.Lh)};Nq.prototype.concat=Nq.prototype.concat;function Oq(a,b){a.wb?a.wb.push(b):a.wb=[b];return a.wb.length-1};function Pq(a){var b=Qq;if(!a||!Ac(af(a.layerId,a.layer))||!Dc(a.level)||uc(a.rowFilter)&&!Da(a.rowFilter)||uc(a.rowFilterContext)&&!Ea(a.rowFilterContext))throw new D(b,1,uc("invalid layer config")?"invalid layer config":a);};function Rq(a,b,c,d){d=d||Sq;this.a={};d.provider=a;this.invalidate=gf;Rq.l.constructor.call(this,b,d);delete this.invalidate;c&&(this.b=c);this.pa(kh.ADD)}u(Rq,Eh);t("H.service.remote.Spatial",Rq);var Sq={};Rq.prototype.$a=function(){return this.b||Eh.prototype.$a.call(this)};Rq.prototype.getId=Rq.prototype.$a;Rq.prototype.gg=jd;Rq.prototype.retain=Rq.prototype.gg;Rq.prototype.release=ff;Rq.prototype.release=Rq.prototype.release;function Tq(a,b){this.a=a;b&&(this.b=b)}var Uq=new Tq(hf);\nRq.prototype.Id=function(a){return(this.a[a.key]||Uq).a};Rq.prototype.getGeometriesForTile=Rq.prototype.Id;Rq.prototype.$g=function(a){return(this.a[a.key]||Uq).b};Rq.prototype.getLabels=Rq.prototype.$g;function Vq(a,b,c){a.a[b.key]=new Tq(c,void 0)};function Wq(a,b,c,d){if(!Da(c))throw new D(a,b,"has invalid type");if(!Da(d))throw new D(a,b+1,"has invalid type");};function Xq(a,b,c){var d=8===a;this.b=b;this.c=c||jd;(this.a=4===a||d)?this.j=d:this.g=1===a;this.f=this.a?"$HProjGeometry":"geometry"}\nXq.prototype.parse=function(a,b,c){var d,e,f={},g=[],h,k;var l=0;for(h=c.length;l<h;l++){var m=c[l];var n=m.Rows;if(m=n.length){var q=Object.keys(n[0]).filter(function(v){return"geometry"!==v&&"$HProjGeometry"!==v});q=new Nq(n,q);for(k=0;k<m;k++){var r=n[k];if(e=r[this.f]){if(delete r[this.f],r=q.oc(k))try{this.a?d=Yq(this,a,b,r,e):d=Zq(this,a,r,e.path),d.ia(a),g.push(d)}catch(v){this.c(v.message)}}else this.c("Layer must contain geometries")}}}f[this.a?"spatials":this.g?"markers":"domMarkers"]=\ng;return f};function Yq(a,b,c,d,e){var f=[],g=e.paths,h=g.length,k=0,l=a.b&&a.b(d);for(a=new Rq(b,a.j,B,{style:l||a.i,data:d});k!==h;)f.push($q(g[k++]));Vq(a,c,[new Mh(f,e.interiorsIndex,e.outlinesIndex)]);return a}function Zq(a,b,c,d){d=new lg(d[0],d[1]);var e=a.b&&a.b(c);a.g?(a={icon:e,data:c,provider:b},a=new Ln(d,a)):(a={icon:e,data:c,provider:b},a=new $i(d,a));return a}function $q(a){for(var b=0,c=a.length,d=[];b<c;)d.push(new G(a[b++],a[b++]));return d};function ar(a,b){var c={};this.c=a;Ya(c,b||c);mk.call(this,c);this.ag={};a=this.Gb(nh.SPATIAL);a.update(a.a+1,kh.ADD)}u(ar,mk);t("H.service.remote.ObjectProvider",ar);ar.prototype.D=function(){mk.prototype.D.call(this)};ar.prototype.dispose=ar.prototype.D;ar.prototype.yc=function(){return hf};ar.prototype.requestMarkers=ar.prototype.yc;ar.prototype.xc=function(){return hf};ar.prototype.requestDomMarkers=ar.prototype.xc;ar.prototype.pd=function(){return hf};ar.prototype.requestOverlays=ar.prototype.pd;\nar.prototype.Mb=ff;ar.prototype.providesMarkers=ar.prototype.Mb;ar.prototype.Lb=ff;ar.prototype.providesDomMarkers=ar.prototype.Lb;ar.prototype.wc=ff;ar.prototype.providesSpatials=ar.prototype.wc;ar.prototype.cg=function(){return hf};ar.prototype.requestSpatials=ar.prototype.cg;function br(a){return a.qc(!0)}ar.prototype.dg=function(a,b){a=cr(this,a,dr);b&&(a=a.filter(br));return a};ar.prototype.requestSpatialsByTile=ar.prototype.dg;\nfunction cr(a,b,c){var d=b.j&&b.j[c],e;!d&&(e=b.m)&&(delete b.m,(b.j=a=a.c.parse(a,b,e))&&(d=a[c]));return d||hf}ar.prototype.ba=function(a){var b=a.$a();if(this.ag[b])throw new Yc(this.ba,"Remote object "+b+" already added");return this.ag[b]=a};ar.prototype.Da=function(a){delete this.ag[a.$a()]};var dr="spatials";function er(a){a=a||{};var b=a.tileCacheSize||1024,c=a.resultType,d=a.styleCallback;uc(a.min)||(a.min=12);er.l.constructor.call(this,a);if(-1===fr.indexOf(c))throw new D(er,2,"invalid resultType");this.c=c;if(d&&!Da(d))throw new D(er,2,"invalid style callback");this.V=d;this.Y=a.pixelRatio||Te();this.Bb=A(this.Bb,this);this.s(new Pk(b,A(this.Ya,this)));this.createTileInternal=4===c||8===c?A(this.N,this):A(this.K,this)}u(er,T);t("H.service.extension.TileProvider",er);er.prototype.i=!1;\ner.prototype.getCapabilities=function(){return er.l.getCapabilities.call(this)|Oj.CROP_LINES_BY_TILE|Oj.CROP_POLYGONS_BY_TILE};er.prototype.Qa=function(a,b,c,d){return this.i?er.l.Qa.call(this,a,b,c,d):B};er.prototype.requestTile=er.prototype.Qa;er.prototype.Bb=function(a){this.dispatchEvent(new ud("error",Ac(a)?a:a+"",this))};er.prototype.Mb=function(){return 1===this.c};er.prototype.providesMarkers=er.prototype.Mb;er.prototype.Lb=function(){return 2===this.c};er.prototype.providesDomMarkers=er.prototype.Lb;\ner.prototype.wc=function(){return 4===this.c||8===this.c};er.prototype.providesSpatials=er.prototype.wc;function gr(a){var b=a.ua;b||(a.v||(a.v=a.u(a.c,a.V,a.Bb)),b=a.ua=new ar(a.v),b.ia(a),b.addEventListener(a.A.xa,A(a.ya,a)),b.ua=!0);return b}\ner.prototype.K=function(a,b,c,d){var e=this.getTileKey(a,b,c);e=this.Fb().get(e);var f=2==this.c,g=[],h=gr(this);e?e.valid=!0:(a=e=new Vk(a,b,c,y),delete a.j,a.m=d);d=f?cr(h,e,"domMarkers"):cr(h,e,"markers");for(b=d.length;b--;)a=d[b],a.Bi=e,(f||1===a.rb().getState())&&g.push(a);e.data=g;return e};er.prototype.ya=function(a){if(a=a.target.Bi)a.valid=!1};er.prototype.ko=function(a){this.B=!!a};er.prototype.setTileCanvasRendering=er.prototype.ko;er.prototype.B=!0;\ner.prototype.N=function(a,b,c,d){var e=gr(this),f=this.getTileKey(a,b,c),g=this.tileSize,h=this.Fb().get(f);h||(a=h=new Zk(f,a,b,c,g,this.Y,c,e),delete a.j,a.m=d);this.B?(d=vp.pop(g),h.T(d)||vp.push(d,g)):el(h);return h};er.prototype.Ya=function(a,b){var c;if(4===this.c||8===this.c){a=b.Pa();for(c=a.length;c--;)delete a[c].a[b.key];if(a=b.Zf())vp.push(a,this.tileSize),b.$f()}else for(a=b.data,c=a.length;c--;)delete a[c].Bi};er.prototype.o=function(){er.l.o.call(this);gr(this).D()};\nvar hr={MARKER:1,DOM_MARKER:2,POLYLINE:4,POLYGON:8};er.ResultType=hr;var fr=[1,2,4,8];function Qq(a,b,c){var d=this,e=b&&b.rowFilter,f=c.resultType;Qq.l.constructor.call(this,c);C(a,ir,Qq,0);Pq(b);e?(c=Wa(b),c.rowFilter=e.toString()):c=Wa(b);delete c.layer;c.layerId=af(b.layerId,b.layer);(new Pf).a("pde","H.service.extension.worker.processor");a=a.C().clone().F(jr+"."+kr).I({meta:1});(new Sf("pde",{message:[this.uid,0,{tileSize:this.tileSize,projected:!0,onlyOutline:4===f,serverUrl:a.toString(),layerConfigs:[c],horizontalMargin:1}]})).then(function(){d.i=!0;d.Sa()},this.Bb)}\nu(Qq,er);t("H.service.extension.platformData.TileProvider",Qq);Qq.prototype.u=function(a,b,c){a=new Xq(a,b,c);a.i=lr;return a};var lr=new wh({strokeColor:"transparent",fillColor:"transparent",lineWidth:0,lineJoin:"round",lineCap:"round"});\nQq.prototype.G=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h;g=this.Fb().get(g);var k={cancel:jd},l=!0,m=this.c;g&&(4===m||8===m?g.Sd()||(d(vp.pop(this.tileSize),null),l=!1):(d(y),l=!1));if(l){var n=tp.setTimeout(function(){h=new Sf("pde",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500);k.cancel=function(){h?h.cancel():tp.clearTimeout(n)}}return k};Qq.prototype.requestInternal=Qq.prototype.G;Qq.prototype.o=function(){Qq.l.o.call(this);new Sf("pde",{message:[this.uid,3]})};\nQq.ResultType=hr;function mr(a,b,c,d,e,f){Wq(mr,1,b,c);Wq(mr,2,d,e);(this.f=a.length)?(this.R=a,this.s=b,this.i=c,this.b=0,this.c=A(this.c,this),this.m=d,this.j=e,this.a=nc(),Ya(this.a,nr,f||{}),this.g={},x.setTimeout(this.c,0)):b(hf,!0)}var nr={duration:100,Ll:"geometry",Kl:"WKT",eo:"searchAttributes",aj:B};\nmr.prototype.c=function(){var a=[];var b=!1;for(var c=Jk(),d;this.b<this.f;){var e=this.R[this.b];b=e.attributes;d=e.layerId||this.a.aj;e.distance&&(b[this.a.eo]={nearest:new lg(e.nearestLat,e.nearestLon),distance:e.distance});if(e=e[this.a.Ll]){try{var f=Qn(new ko(e))}catch(g){this.i(new x.Error(g.message));b=!0;break}b[this.a.Kl]=f}(e=this.g[d])||(e=this.g[d]=this.m({layerId:d,columnNames:Object.keys(b)}));b=this.j(e,b);a.push(b);this.b++;if((b=this.b===this.f)||Jk()-c>=this.a.duration){this.s(a,\nb);break}}b?this.g={}:this.u=x.setTimeout(this.c,0)};mr.prototype.cancel=function(){x.clearTimeout(this.u);this.b<this.f&&this.i(new x.Error("parsing canceled"))};mr.prototype.cancel=mr.prototype.cancel;function or(a){this.a=a}or.prototype.cancel=function(){for(var a=this.a,b=a.length;b--;)a[b].cancel();a.length=0};or.prototype.cancel=or.prototype.cancel;function ir(a){ir.l.constructor.call(this,ir,a)}u(ir,Vp);t("H.service.extension.platformData.Service",ir);ir.prototype.Ia=function(){return{subDomain:"s.fleet.ls",path:"1"}};ir.CONFIG_KEY="platformData";\nir.prototype.request=function(a,b,c,d,e){var f="text/plain";if(!a)throw new D(this.request,0,a);if(!b)throw new D(this.request,1,b);if(!d)throw new D(this.request,3,d);if(!e)throw new D(this.request,4,e);a=this.C().clone().F(a+"."+b).I(c);b===pr.JSON&&(f="application/json");return this.G(a,d,e,f)};ir.prototype.request=ir.prototype.request;var jr="tiles";\nir.EntryPoint={DOC_ATTRIBUTES:"doc/attributes",DOC_LAYER:"doc/layer",DOC_LAYERS:"doc/layers",DOC_MAPS:"doc/maps",DOC_INDEXES:"doc/indexes",SEARCH_BBOX:"search/bbox",SEARCH_CORRIDOR:"search/corridor",SEARCH_PROXIMITY:"search/proximity",SEARCH_QUADKEY:"search/quadkey",SERVICE_CONFIGURATION:"serviceconfiguration",STATIC:"static",TILE:"tile",TILES:jr,FILE:"file",INDEX:"index"};var kr="json",pr={TXT:"txt",JSON:kr,HTML:"html",BIN:"bin"};ir.EntryPointType=pr;\nir.prototype.ic=function(a,b){var c=b&&b.resultType;a=new Qq(this,a,b);var d;1==c||2===c?d=new Mn(a):d=new ql(a);return d};ir.prototype.createTileLayer=ir.prototype.ic;function qr(a,b,c,d,e){var f=[],g,h=c.layer_id||c.layer_ids;a=a.request(b,kr,c,function(k){g=new mr(k.geometries,d,e,function(l){return new Nq([],l.columnNames,l)},function(l,m){return l.oc(Oq(l,m))},{aj:h});f.push(g)},function(k){e(new x.Error(k))});f.push(a);return new or(f)}\nfunction rr(a,b,c){if(!zc(a))throw new D(c,0,"has invalid type");if(!zc(b))throw new D(c,1,"has invalid type");if(a.length!==b.length||!a.length)throw new D(c,1,"specify one key attribute for each given layer id in the same order");}\nir.prototype.zc=function(a,b,c,d,e,f){function g(l,m){m&&h--;d(l,!h)}var h,k=[];rr(a,b,this.zc);Wq(this.zc,3,d,e);C(c,K,this.zc,2);c={bbox:c.c+","+c.a+";"+c.f+","+c.b};f&&Ya(c,f);a=c.layer_id?[c.layer_id]:a;f=0;for(h=a.length;f<h;f++)c.layer_id=a[f],c.key_attribute=b[f],k.push(qr(this,"search/bbox",c,g,e));return new or(k)};ir.prototype.searchByBoundingBox=ir.prototype.zc;\nir.prototype.Ob=function(a,b,c,d,e,f,g){rr(a,b,this.Ob);C(c,lg,this.Ob,2,"has invalid type");if(!Dc(d))throw new D(this.Ob,3,"has invalid type");Wq(this.Ob,4,e,f);a={layer_ids:a.join(","),key_attributes:b.join(","),proximity:c.lat+","+c.lng+","+d};g&&Ya(a,g);return qr(this,"search/proximity",a,e,f)};ir.prototype.searchByProximity=ir.prototype.Ob;\nir.prototype.Nb=function(a,b,c,d,e,f,g){var h="";rr(a,b,this.Nb);if(!Ac(c)&&!C(c,L))throw new D(this.Nb,1,"has invalid type");if(!Dc(d))throw new D(this.Nb,2,"has invalid type");Wq(this.Nb,4,e,f);a={layer_ids:a.join(","),key_attributes:b.join(","),radius:d};if(Ac(c))a.route_id=c;else{d=c.X;c=0;for(b=d.length;c<b;c+=3)h+=d[c]+","+d[c+1],c<b-3&&(h+=";");a.corridor=h}g&&Ya(a,g);return qr(this,"search/corridor",a,e,f)};ir.prototype.searchByCorridor=ir.prototype.Nb;\nX.prototype.Cj=function(a){sp(X.prototype.Cj);return this.Ma(ir,a)};X.prototype.getPlatformDataService=X.prototype.Cj;function sr(a){sr.l.constructor.call(this,sr,a)}u(sr,Vp);t("H.service.extension.geofencing.Service",sr);sr.prototype.Ia=function(){return{subDomain:"fleet.ls",path:"2"}};sr.CONFIG_KEY="geofencing";sr.prototype.request=function(a,b,c,d){if(!a)throw new D(this.request,0,a);if(!Da(c))throw new TypeError("onResult must be a function");if(!Da(d))throw new TypeError("onError must be a function");a=this.C().clone().F(a+".json").I(b);return this.G(a,c,d)};sr.prototype.request=sr.prototype.request;\nsr.prototype.a=function(a){return Error(a.issues&&a.issues.length?a.issues.map(function(b){return b.message}).join(". "):a.message||a.response_code)};sr.EntryPoint={SEARCH_PROXIMITY:"search/proximity"};X.prototype.uj=function(a){sp(X.prototype.uj);return this.Ma(sr,a)};X.prototype.getGeofencingService=X.prototype.uj;t("H.service.extension.customLocation.Permission",{READ:"read",WRITE:"write",EXPORT:"export"});t("H.service.extension.customLocation.Storage",{READONLY:"readonly",UPDATABLE:"updatable"});function tr(a){var b=ur;if(!a||!Ac(a.layerId)||uc(a.rowFilter)&&!Da(a.rowFilter)||uc(a.rowFilterContext)&&!Ea(a.rowFilterContext))throw new D(b,1,uc("invalid layer config")?"invalid layer config":a);}function vr(a){return Ac(a)&&/^[A-Z][A-Z0-9_]*$/.test(a)}function wr(a){for(var b=a&&a.length,c=2<=b&&"WKT"===a[--b]&&"GEOMETRY_ID"===a[--b];c&&b--;)c=vr(a[b]);return c}\nfunction xr(a,b){var c="",d=[];if(b){var e=a.geometries;if(e&&e.length){var f=Object.keys(e[0].attributes);c=c+("Meta:\\t"+b+"\\n")+f.join("\\t");c+="\\tWKT\\n";for(a=0;a<e.length;a++){var g=e[a].attributes;var h=e[a].geometry;for(b=0;b<f.length;b++)d.push(g[f[b]]);c+=d.join("\\t");c+="\\t"+h+"\\n";d=[]}}}else{h={};d=[];if(a.geometries)for(e=0;e<a.geometries.length;e++)b=a.geometries[e],h[b.layerId]||(h[b.layerId]=[]),h[b.layerId].push(b);for(f in h)d.push({layerId:f,geometries:h[f]});for(a=0;a<d.length;a++)c+=\nxr(d[a],d[a].layerId)}return c};function ur(a,b,c){var d=this,e=b&&b.rowFilter,f;ur.l.constructor.call(this,c);C(a,yr,ur,0);var g=c.resultType;tr(b);if(e){var h=Wa(b);h.rowFilter=e.toString()}else h=b;(new Pf).a("cle","H.service.extension.worker.processor");var k=b.layerId;a.request(zr,Ar,{detail_level:"all",layer_id:k},function(l){l=l.layers;var m;for(m=0;m<l.length;m++)if(l[m].layerId===k){h.level=l[m].level;break}f=a.C().clone().F(Br+"."+Ar).I({meta:1});(new Sf("cle",{message:[d.uid,0,{tileSize:d.tileSize,projected:!0,onlyOutline:4===\ng,serverUrl:f.toString(),layerConfigs:[h],batchTiles:!1,horizontalMargin:1}]})).then(function(){d.i=!0;d.Sa()},d.Bb)},function(l){d.Bb(l.message)})}u(ur,er);t("H.service.extension.customLocation.TileProvider",ur);ur.prototype.u=function(a,b,c){return new Xq(a,b,c)};\nur.prototype.G=function(a,b,c,d,e){var f=this,g=this.getTileKey(a,b,c),h;g=this.Fb().get(g);var k={cancel:jd},l=!0,m=this.c;g&&(4===m||8===m?g.Sd()||(d(vp.pop(this.tileSize),null),l=!1):(d(y),l=!1));if(l){var n=tp.setTimeout(function(){h=new Sf("cle",{message:[f.uid,1,[a,b,c]]});h.then(d,e)},500);k.cancel=function(){h?h.cancel():tp.clearTimeout(n)}}return k};ur.prototype.requestInternal=ur.prototype.G;ur.prototype.o=function(){ur.l.o.call(this);new Sf("cle",{message:[this.uid,3]})};function Cr(){if(Dr)throw new Yc(Cr);}t("H.service.extension.customLocation.Table",Cr);var Dr=!0;function Er(a,b){var c;Dr=!1;var d=new Cr;Dr=!0;d.c=qc(x.JSON.parse(x.JSON.stringify(a)));a=a.columnNames;var e=nc();for(c=a.length;c--;)e[a[c]]=c;d.f=e;d.b=a.length;if(b){if(b.length%a.length)throw new D(Er,1,"Invalid number of cells");}else b=[];d.a=b;return d}Cr.prototype.Kd=function(){return this.c};Cr.prototype.getMeta=Cr.prototype.Kd;Cr.prototype.Nd=function(){return this.a.length/this.b};\nCr.prototype.getRowCount=Cr.prototype.Nd;Cr.prototype.oc=function(a){return a<this.a.length/this.b?new Fr(this,a):B};Cr.prototype.getRow=Cr.prototype.oc;Cr.prototype.Nm=function(){var a=this.a.length/this.b,b,c=new x.Array(a);for(b=0;b<a;b++)c[b]=new Fr(this,b);return c};Cr.prototype.getRows=Cr.prototype.Nm;Cr.prototype.Bg=function(a){var b=this.b,c=this.a,d=c.length/this.b;if(!a||a.length%b)throw new D(this.Bg,0,"Invalid number of cells");this.a=c.concat(a);return d};Cr.prototype.addCells=Cr.prototype.Bg;\nCr.prototype.pl=function(){for(var a=this.b,b=this.a,c=this.a.length/this.b;a--;)b.push(y);return this.oc(c)};Cr.prototype.addRow=Cr.prototype.pl;Cr.prototype.Oa=function(){return this.c.columnNames};Cr.prototype.getColumnNames=Cr.prototype.Oa;Cr.prototype.xe=function(a){return this.f[a]===B?B:new Gr(this,a)};Cr.prototype.getColumn=Cr.prototype.xe;Cr.prototype.sa=function(a,b){return this.a[a*this.b+this.f[b]]};Cr.prototype.getCell=Cr.prototype.sa;\nCr.prototype.Ac=function(a,b,c){b=this.f[b];if(a>=this.a.length/this.b)throw new D(this.Ac,0,"Row index out of bounds");if(b===B)throw new D(this.Ac,0,"Column unknown");this.a[a*this.b+b]=c};Cr.prototype.setCell=Cr.prototype.Ac;\nCr.prototype.concat=function(a){var b=arguments.length,c,d=""+this.Oa(),e=this.a?this.a.slice():[];for(c=0;c<b;c++){var f=arguments[c];if(!(f instanceof Cr))throw new D(this.concat,c);if(""+f.Oa()!==d)throw new D(this.concat,c,"Incompatible columns!");f.a&&(e=e.concat(f.a))}return Er(this.c,e)};Cr.prototype.concat=Cr.prototype.concat;var Hr=/(\\n|\\t|\\r|")/;\nCr.prototype.zi=function(a,b){var c,d=this.b,e=this.Oa(),f=[],g=[],h=this.a,k=-1;for(c=0;c<d;c++)if(!a||a.test(e[c]))"WKT"===e[c]&&(k=f.length),f.push(c);if(!(a=f.length))throw new D(this.zi,1,"No columns filtered");Ir(this,g,e,0,d,f,a,k);if(b){var l=b.length;for(c=0;c<l;c++)g.push("\\n"),e=b[c],Ir(this,g,h,e,d,f,a,k)}else for(l=this.Nd(),e=0;e<l;e++)g.push("\\n"),Ir(this,g,h,e,d,f,a,k);return g.join("")};\nfunction Ir(a,b,c,d,e,f,g,h){var k;for(k=0;k<g;k++){k&&b.push("\\t");var l=c[d*e+f[k]];if(k!==h){if(l!==y){l=String(l);if(Hr.test(l))throw new D(a.zi,0,\'Invalid character (\\\\n, \\\\r, \\\\t, or ") in row \'+d+" column "+a.c.columnNames[f[k]]);b.push(l)}}else b.push(l)}}function Gr(a,b){this.b=a;this.a=b}Cr.Column=Gr;Gr.prototype.sa=function(a){return this.b.sa(a,this.a)};Gr.prototype.getCell=Gr.prototype.sa;Gr.prototype.Ac=function(a,b){this.b.Ac(a,this.a,b)};Gr.prototype.setCell=Gr.prototype.Ac;\nfunction Fr(a,b){this.a=a;this.Gh=b}Cr.Row=Fr;Fr.prototype.Oa=function(){return this.a.Oa()};Fr.prototype.getColumnNames=Fr.prototype.Oa;Fr.prototype.sa=function(a){return this.a.sa(this.Gh,a)};Fr.prototype.getCell=Fr.prototype.sa;Fr.prototype.Ac=function(a,b){this.a.Ac(this.Gh,a,b)};Fr.prototype.setCell=Fr.prototype.Ac;Fr.prototype.gd=function(){return this.a};Fr.prototype.getTable=Fr.prototype.gd;function Jr(a){if(a===B)a="\\t";else if(!/^[^"\\r\\n]$/.test(a))throw new D(Jr,0);this.c=String(a).charCodeAt(0);this.Hh=A(this.Hh,this);this.a=Kr}var Kr=0;p=Jr.prototype;p.getState=function(){return this.a};function Lr(a,b,c){var d=a.a;if(d!==b)throw 1===d&&(a.a=Kr),new Yc(c,"Requires state: "+["READY","PARSE","PAUSE"][b]+" but found "+["READY","PARSE","PAUSE"][d]);}p.abort=function(){Lr(this,2,Jr.prototype.abort);this.a=Kr};\np.Hh=function(a){this.a=Kr;throw new D(Jr.prototype.parse,0,"Malformed DSV at row "+this.b.j+" column "+this.b.b+": "+a);};function Mr(a,b){var c=[];a.parse(b,function(d,e,f){1>d&&(c[e]=f);return 0<d});a.a=Kr;return c}p.parse=function(a,b,c){Lr(this,Kr,Jr.prototype.parse);a=a.trim();this.b=new Nr(a,this.c,this.Hh);this.f=b;this.mk=c||gf;this.a=2;this.Ih()};p.mk=gf;\np.Ih=function(){var a=this.b,b=[];Lr(this,2,Jr.prototype.Ih);this.a=1;do{if(!a.g){this.a=Kr;break}if(e>a.b){if(void 0!==c&&c!==e){this.b.a("The number of columns must be the same for all rows");return}var c=e}var d=a.j;var e=a.b;var f=a.nf;var g=this.mk(d,e,a);if(a.nf>f)for(;-1!==a.next(););else{for(;-1!==(f=a.next());)b.push(f);g=String.fromCharCode.apply(y,b);b.length=0}Or(a);this.f(d,e,g)&&(this.a=a.g?2:Kr)}while(1===this.a);2!=this.a&&void 0!==c&&0<e&&c!==e&&this.b.a("The number of columns must be the same for all rows")};\nfunction Nr(a,b,c){this.c=new ko(a);this.m=b;this.g=!0;this.nf=this.j=this.b=0;Or(this);this.a=c;this.f=[];this.i=!1}p=Nr.prototype;p.nf=0;function Or(a){var b=a.c.Kb();a.s=!1;(a.R=34===b)&&a.c.next()}function Pr(a,b){var c=a.c;a.s=!0;switch(b){case a.m:a.b++;break;case 13:c.next(),10!==c.Kb()&&a.a("CR without LF");case 10:a.b=0;a.j++;break;case -1:a.g=!1;break;default:a.a("End of field expected")}c.next();return-1}\np.Kb=function(){if(this.s)var a=-1;else{var b=this.c;a=b.Kb();if(this.R)switch(a){case 34:b.next();a=b.Kb();34!==a&&(a=Pr(this,a));break;case -1:this.a("Closing quotation mark expected")}else switch(a){case 34:this.a("Unexpected quotation mark");case this.m:case 13:case 10:case -1:a=Pr(this,a)}}return a};p.de=function(){this.i=!0;this.f=[]};p.Dd=function(){var a=this.f.slice();this.i=!1;this.f=[];return a};p.next=function(){var a=this.Kb();-1!==a&&this.c.next();this.i&&this.f.push(a);this.nf++;return a};function Qr(a,b,c,d){d=d||{};if(!b)throw new D(Qr,1,"has to be a function");if(!c)throw new D(Qr,2,"has to be a function");this.m=b;this.u=c;this.a=[];this.g={};this.f=[];this.b={};this.i={};this.j={};this.s={};this.R=d.duration||100;this.c=A(this.c,this);a=a.split("Meta:\\t").slice(1);for(b=0;b<a.length;b++){d=a[b].split("\\n");c=d[0].split("\\t")[0];d=d.slice(1).join("\\n");this.b[c]=new Jr;this.g[c]=Mr(this.b[c],d);var e={layerId:c,columnNames:this.g[c]};this.f.push(c);this.s[c]=Er(e);this.i[c]=Jk();\nRr(this,d,c);this.c(c)}}function Rr(a,b,c){var d=[],e=a.g[c].length-1,f=a.s[c];try{a.b[c].parse(b,function(g,h,k){var l=!1;0<g&&(d[h]=k,h===e&&(a.a.push(f.oc(f.Bg(d))),Jk()-a.i[c]>a.R&&(l=!0)));return l},function(g,h,k){if(0<g&&h===e)return Qn(k)})}catch(g){a.u(g)}}Qr.prototype.cancel=function(){for(var a in this.j)x.clearTimeout(this.j[a])};Qr.prototype.cancel=Qr.prototype.cancel;\nQr.prototype.c=function(a){var b=this,c,d;this.j[a]=x.setTimeout(function(){if(2===b.b[a].getState())b.i[a]=Jk(),b.m(b.a,!1),b.a=[],b.b[a].Ih(),b.c(a);else{c=!0;for(d=0;d<b.f.length;d++)if(b.b[b.f[d]].getState()!==Kr){c=!1;break}c&&(0<b.a.length&&b.m(b.a,!0),b.a=[])}},0)};function yr(a){yr.l.constructor.call(this,yr,a)}u(yr,Vp);t("H.service.extension.customLocation.Service",yr);yr.prototype.Ia=function(){return{subDomain:"fleet.ls",path:"2"}};yr.CONFIG_KEY="customLocation";yr.prototype.ic=function(a,b){var c=b&&b.resultType;a=new ur(this,a,b);var d;1===c||2===c?d=new Mn(a):d=new ql(a);return d};yr.prototype.createTileLayer=yr.prototype.ic;\nfunction Sr(a,b,c,d){var e;a=a===Tr?"changes":"file";var f=b[a],g=Ac(f),h=!g&&C(f,Blob);if(!g&&!h)throw new D(d,0,"Invalid "+a+" parameter");if(Ur)h?e=f:e=pf(f,"text/plain"),d=new x.FormData,d.append(a,e,e.name||a+".wkt"),c.method="POST",c.data=d,delete b[a];else if(h)throw new D(d,0,"Sending Blob data is not supported by the browser");}var Ur=x.FormData&&!!x.FormData.prototype.append;yr.prototype.request=function(a,b,c,d,e){return Vr(this,a,b,c,d,e)};yr.prototype.request=yr.prototype.request;\nfunction Vr(a,b,c,d,e,f){var g="text/plain",h=b===Wr.LAYERS_UPLOAD||b===Wr.LAYERS_MODIFY||b===Wr.LAYERS_IMPORT,k=d,l={data:B,method:"GET",headers:a.g};if(!b)throw new D(a.request,0,b);if(!c)throw new D(a.request,1,c);Wq(a.request,3,e,f);h&&(C(d,Object,a.request,2,"Invalid request parameters"),k=Wa(d),Sr(b,k,l,a.request));var m=a.C().clone().F(b+"."+c).I(k);c===Xr.JSON&&(g="application/json");a=new tf(g,m.toString(),he,l);a.then(function(n){var q=n.issues;q&&n.error_id&&n.response_code?f(Error(q[0].message)):\ne(n)},function(n){"error"===n.type||404===n.status?f(Error(n.statusText||"Unable to load data")):n.json().then(function(q){f(Error("["+q.issues[0].message+"] "+m+" request failed"))},function(){f(Error("["+n.statusText+"] "+m+" request failed"))})});return a}\nvar zr="layers/list",Tr="layers/modify",Br="tiled/tile",Wr={LAYERS_DELETE:"layers/delete",LAYERS_GRANT:"layers/access/grant",LAYERS_LIST:zr,LAYERS_MODIFY:Tr,LAYERS_UPLOAD:"layers/upload",LAYERS_IMPORT:"layers/import",SEARCH_ALL:"search/all",SEARCH_BBOX:"search/bbox",SEARCH_CORRIDOR:"search/corridor",SEARCH_PROXIMITY:"search/proximity",SEARCH_QUADKEY:"search/quadkey",SEARCH_TILE:Br};yr.EntryPoint=Wr;var Ar="json",Xr={TXT:"txt",JSON:Ar};yr.EntryPointType=Xr;\nyr.prototype.jb=function(a,b,c){var d=this;return this.request("search/all","txt",{filter:\'WKT==""\',layer_id:a},function(e){var f=String(e).replace(/[\\r\\n]+$/g,"").split("\\t");d.request(zr,Ar,{layer_id:a,detail_level:"all"},function(g){g=g.layers[0];g.columnNames=f;b(Er(g))},c)},c)};yr.prototype.getLayer=yr.prototype.jb;\nyr.prototype.Kj=function(a,b,c,d){function e(){return++g<f?h.request("layers/access/grant",Ar,{layer_id:a,granted_app_id:b[g].grantedAppId,permissions:b[g].permissions.join(",")},e,d):h.jb(a,c,d)}var f=b&&b.length,g=-1,h=this;return e()};yr.prototype.grantAccess=yr.prototype.Kj;yr.prototype.cj=function(a,b,c){return this.request("layers/delete",Ar,{layer_ids:a},b,c)};yr.prototype.deleteLayer=yr.prototype.cj;\nyr.prototype.cd=function(a,b,c){function d(){setTimeout(function(){k.jb(g,function(q){setTimeout(e.bind(null,q),m)},function(){64E3>l?(l+=m,d()):c(x.Error("Timeout"))})},m);m*=2}function e(q){var r=JSON.stringify(q.Oa()),v=a.grants;if(r!==JSON.stringify(h)){var w="Results into different column names on the backend: "+r;setTimeout(function(){k.cj(g,function(){c(x.Error(w))},function(z){c(x.Error(w+". "+z.message))})},m)}else v&&v.length?k.Kj(g,v,b,c):b(q)}var f,g,h,k=this,l=0,m=1E3;var n=!a||!vr(g=\na.layerId)&&(f="layerId")||!wr(h=a.columnNames)&&(f="columnNames")?0:Da(b)?Da(c)?-1:2:1;if(0<=n)throw new D(k.cd,n,f||arguments[n]);return k.jb(g,function(){c(x.Error("Layer exists already"))},function(){var q={layer_id:g,file:h.join("\\t")},r=a.level,v=a.storage;r!==B&&(q.level=r);v!==B&&(q.storage=v);k.request("layers/upload",Ar,q,d,c)})};yr.prototype.createLayer=yr.prototype.cd;\nfunction Yr(a,b,c,d,e){var f=[],g;a=a.request(b,Ar,c,function(h){h.geometries.length?(h=xr(h,c.layer_id),g=new Qr(h,d,e),f.push(g)):d(hf,!0)},e);f.push(a);return new or(f)}yr.prototype.Ob=function(a,b,c,d,e,f){if(!zc(a))throw new D(this.Ob,0,"has invalid type");C(b,lg,this.Ob,1,"has invalid type");if(!Dc(c))throw new D(this.Ob,2,"has invalid type");Wq(this.Ob,3,d,e);a={layer_ids:a.join(","),proximity:b.lat+","+b.lng+","+c};f&&Ya(a,f);return Yr(this,"search/proximity",a,d,e)};\nyr.prototype.searchByProximity=yr.prototype.Ob;yr.prototype.Nb=function(a,b,c,d,e,f){var g="";if(!zc(a))throw new D(this.Nb,0,"has invalid type");if(!Ac(b)&&!C(b,L))throw new D(this.Nb,1,"has invalid type");if(!Dc(c))throw new D(this.Nb,2,"has invalid type");Wq(this.Nb,3,d,e);a={layer_ids:a.join(","),radius:c};if(Ac(b))a.route_id=b;else{var h=b.X;b=0;for(c=h.length;b<c;b+=3)g+=h[b]+","+h[b+1],b<c-3&&(g+=",");a.corridor=g}f&&Ya(a,f);return Yr(this,"search/corridor",a,d,e)};\nyr.prototype.searchByCorridor=yr.prototype.Nb;yr.prototype.zc=function(a,b,c,d,e){function f(k,l){l&&h--;c(k,!h)}var g=[],h;if(!zc(a))throw new D(this.zc,0,"has invalid type");C(b,K,this.zc,1,"has invalid type");Wq(this.zc,2,c,d);b={bbox:b.c+","+b.a+";"+b.f+","+b.b};e&&Ya(b,e);a=b.layer_id?[b.layer_id]:a;e=0;for(h=a.length;e<h;e++)b.layer_id=a[e],g.push(Yr(this,"search/bbox",b,f,d));return new or(g)};yr.prototype.searchByBoundingBox=yr.prototype.zc;\nyr.prototype.ei=function(a,b,c,d){var e,f=[];if(!Ac(a))throw new D(this.ei,0,"has invalid type");Wq(this.ei,1,b,c);var g={layer_id:a};d&&Ya(g,d);d=this.request("search/all",Ar,g,function(h){h.geometries.length?(h=xr(h,a),e=new Qr(h,b,c),f.push(e)):b(hf,!0)},c);f.push(d);return new or(f)};yr.prototype.searchAll=yr.prototype.ei;var Zr={"delete":/^GEOMETRY_ID$/,append:/^(?!GEOMETRY_ID$)/};\nfunction $r(a,b,c,d,e,f){function g(){v++;d(this,v===q)}function h(Q){v++;e(Q,this,v===q)}var k="append"!==b,l,m={},n=nc(),q=0,r=[],v=0;if(!zc(c))throw new D(f,0,c);Wq(f,1,d,e);for(l=c.length;l--;){var w=c[l];if(C(w,Fr)){var z=w.gd().Kd().layerId;var J=w.sa("GEOMETRY_ID");if(k){if(J===y||""===String(J))var I=\'GEOMETRY_ID must not be null or ""\';m[J=z+"_"+J]&&(I="same GEOMETRY_ID for multiple rows");m[J]=w}else J!==y&&""!==String(J)&&(I=\'GEOMETRY_ID must be null or ""\')}else I="Invalid type";if(I)throw new D(f,\n0,"- Invalid row at index "+l+", "+I);J=n[z];J||(J=n[z]=[],q++);J.push(w)}for(z in n){J=n[z];c=[];for(l=J.length;l--;)c.push(J[l].Gh);r.push(a.request(Tr,Ar,{layer_id:z,action:b,changes:J[0].gd().zi(Zr[b]||null,c)},A(g,J),A(h,J)))}return new or(r)}yr.prototype.Ti=function(a,b,c){return $r(this,"append",a,b,c,this.Ti)};yr.prototype.appendRows=yr.prototype.Ti;yr.prototype.jl=function(a,b,c){return $r(this,"update",a,b,c,this.jl)};yr.prototype.updateRows=yr.prototype.jl;\nyr.prototype.dj=function(a,b,c){return $r(this,"delete",a,b,c,this.dj)};yr.prototype.deleteRows=yr.prototype.dj;X.prototype.oj=function(a){sp(X.prototype.oj);return this.Ma(yr,a)};X.prototype.getCustomLocationService=X.prototype.oj;function as(a){bq.l.constructor.call(this,as,a)}u(as,Vp);t("H.service.extension.customRoute.Service",as);as.prototype.Ia=function(){return{subDomain:"s.fleet.ls",path:"2"}};as.CONFIG_KEY="customRoute";as.prototype.a=function(a){return Error(a.issues&&a.issues.length?a.issues.map(function(b){return b.message}).join(". "):a)};as.prototype.zd=function(a,b,c){Wq(this.zd,1,b,c);a=this.C().clone().F("calculateroute.json").I(a);return this.G(a,b,c)};as.prototype.calculateRoute=as.prototype.zd;\nX.prototype.pj=function(a){sp(X.prototype.pj);return this.Ma(as,a)};X.prototype.getCustomRoutingService=X.prototype.pj;function bs(a){bs.l.constructor.call(this,bs,a)}u(bs,Vp);t("H.service.SearchService",bs);bs.CONFIG_KEY="search";bs.prototype.Ia=function(){return{subDomain:"search",path:"v1"}};bs.prototype.a=function(a){a=[a.title,a.action,a.cause].filter(function(b){return b});return Error(a.join(". "))};bs.prototype.Tg=function(a,b,c){a=this.C().clone().za("geocode").F("geocode").I(a);return this.G(a,b,c)};bs.prototype.geocode=bs.prototype.Tg;\nbs.prototype.bi=function(a,b,c){a=this.C().clone().za("revgeocode").F("revgeocode").I(a);return this.G(a,b,c)};bs.prototype.reverseGeocode=bs.prototype.bi;bs.prototype.tl=function(a,b,c){a=this.C().clone().za("autosuggest").F("autosuggest").I(a);return this.G(a,b,c)};bs.prototype.autosuggest=bs.prototype.tl;bs.prototype.Al=function(a,b,c){a=this.C().clone().za("discover").F("discover").I(a);return this.G(a,b,c)};bs.prototype.discover=bs.prototype.Al;\nbs.prototype.wn=function(a,b,c){a=this.C().clone().za("lookup").F("lookup").I(a);return this.G(a,b,c)};bs.prototype.lookup=bs.prototype.wn;bs.prototype.vl=function(a,b,c){a=this.C().clone().za("browse").F("browse").I(a);return this.G(a,b,c)};bs.prototype.browse=bs.prototype.vl;X.prototype.Pm=function(a){return this.Ma(bs,a)};X.prototype.getSearchService=X.prototype.Pm;function cs(a){this.c=!!a.toBypassToken;if(!this.c&&!a.token)throw new D(cs,0,\'"token" must be specified\');cs.l.constructor.call(this,cs,a);this.j=a.token;this.f={};this.b={}}u(cs,Vp);t("H.service.xyz.Service",cs);cs.prototype.Ia=function(){return{host:"xyz.api.here.com",path:"hub/spaces"}};cs.prototype.a=function(a){return Error(a.errorMessage||a.message)};\ncs.prototype.eh=function(a,b,c){xc(a,"String",this.eh,0,\'"projectId" must be a string\');ds(this.eh,1,b,c);a=es(this.C().clone().td("project-api/projects/"+a));return this.G(a,b,c)};cs.prototype.getProject=cs.prototype.eh;cs.prototype.Ej=function(a,b,c){ds(this.Ej,0,a,b);c=fs(this,this.C().clone().I(c||{}));return this.G(c,a,b)};cs.prototype.getSpaces=cs.prototype.Ej;\ncs.prototype.Ff=function(a,b,c){xc(a,"String",this.Ff,0,\'"spaceId" must be a string\');ds(this.Ff,1,b,c);a=fs(this,this.C().clone().F(a));return this.G(a,b,c)};cs.prototype.getSpace=cs.prototype.Ff;cs.prototype.Od=function(a,b,c){xc(a,"String",this.Od,0,\'"spaceId" must be a string\');ds(this.Od,1,b,c);a=fs(this,this.C().clone().F(a+"/statistics"));return this.G(a,b,c)};cs.prototype.getStatistics=cs.prototype.Od;\ncs.prototype.Af=function(a,b,c,d,e,f,g){a=fs(this,this.C().clone().F(d+"/tile/web/"+c+"_"+a+"_"+b+".mvtf").I(Object.assign({clip:!0},g)));return this.G(a,function(h){return h.arrayBuffer().then(e)},f,"arraybuffer")};cs.prototype.search=function(a,b,c,d){xc(a,"String",this.search,0,\'"spaceId" must be a string\');ds(this.search,1,b,c);a=fs(this,this.C().clone().F(a+"/search").I(d||{}));return this.G(a,b,c)};cs.prototype.search=cs.prototype.search;\ncs.prototype.Nc=function(a,b,c,d){xc(a,"String",this.Nc,0,\'"spaceId" must be a string\');if(!Ea(b))throw new D(this.Nc,1,\'"params" must be an object\');ds(this.Nc,2,c,d);a=fs(this,this.C().clone().F(a+"/features").I(b));return this.G(a,c,d)};cs.prototype.getFeaturesById=cs.prototype.Nc;\ncs.prototype.Hd=function(a,b,c,d){xc(a,"String",this.Hd,0,\'"spaceId" must be a string\');if(!Ea(b))throw new D(this.Nc,1,\'"params" must be an object\');ds(this.Hd,2,c,d);a=fs(this,this.C().clone().F(a+"/bbox").I(b));return this.G(a,c,d)};cs.prototype.getFeaturesByBoundingBox=cs.prototype.Hd;cs.prototype.ca=function(a){var b=this.f[a];if(b)return b;this.b[a]||gs(this,a);return null};\ncs.prototype.Vc=function(a,b,c,d,e){xc(a,"String",this.Vc,0,\'"spaceId" must be a string\');if(!Ea(b))throw new D(this.Vc,1,\'"geojsonObject" must be an object\');ds(this.Vc,2,c,d);if(e&&!Ea(e))throw new D(this.Vc,4,\'"opt_params" must be an object\');return hs(this,a,c,d,"PUT",b,e)};cs.prototype.putFeatures=cs.prototype.Vc;\ncs.prototype.Tc=function(a,b,c,d,e){xc(a,"String",this.Tc,0,\'"spaceId" must be a string\');if(!Ea(b))throw new D(this.Tc,1,\'"featureCollection" must be an object\');ds(this.Tc,2,c,d);if(e&&!Ea(e))throw new D(this.Tc,4,\'"opt_params" must be an object\');return hs(this,a,c,d,"POST",b,e)};cs.prototype.postFeatures=cs.prototype.Tc;\ncs.prototype.dd=function(a,b,c,d){xc(a,"String",this.dd,0,\'"spaceId" must be a string\');if(!Ea(b))throw new D(this.dd,1,\'"params" must be an object\');ds(this.dd,2,c,d);return hs(this,a,c,d,"DELETE",B,b)};cs.prototype.deleteFeatures=cs.prototype.dd;\nfunction hs(a,b,c,d,e,f,g){var h=Object.assign(a.c?{}:{authorization:"Bearer "+a.j},{"Content-Type":"application/geo+json"},a.g);e={method:e,headers:h};f&&(e.data=JSON.stringify(f));b=es(a.C().clone().F(b+"/features").I(g||{}));f=new tf("application/json",b.toString(),he,e);f.then(c,Xp(a,b,d));return f}function gs(a,b){a.b[b]=is;a.Ff(b,function(c){a.b[b]=js;a.f[b]=c.copyright;a.dispatchEvent("copyrightupdate")},function(c){a.b[b]=ks;throw c;})}\nfunction fs(a,b){return a.c?b:es(b).I({access_token:a.j})}function es(a){var b=Object.assign({},a.getQuery());delete b.apikey;return a.ng(b)}cs.CONFIG_KEY="xyz";var is=1,js=2,ks=-1;function ds(a,b,c,d){if(!Da(c))throw new D(a,b,\'"onResult" must be a function\');if(!Da(d))throw new D(a,b+1,\'"onError" must be a function\');}X.prototype.Hj=function(a){sp(X.prototype.Hj,"Use HERE IML service instead.");return this.Ma(cs,a)};X.prototype.getXYZService=X.prototype.Hj;function ls(a,b,c){var d;ls.l.constructor.call(this,c?{min:c.min,max:c.max,engineType:c.engineType}:void 0);C(a,cs,ls,0);if(!Ac(b))throw new D(ls,1,\'"spaceId" must be a string\');this.u=a;this.c=b;this.i={};if(c&&(["limit","simplificationLevel","tags"].forEach(function(e){e in c&&(this.i[e]=c[e])},this),a=c.parameters))for(d in a)this.i[d]=a[d];this.lb(this.a===ik.WEBGL?new qi({sources:{xyz:{type:"MVT"}},layers:{xyz:{data:{source:"xyz",layer:this.c},points:{filter:{$geometry:"point"},draw:{points:{collide:!1,\norder:200,color:"#92CF48",size:[[10,"8px"],[14,"12px"],[18,"16px"]]}}},polygons:{filter:{$geometry:"polygon"},draw:{polygons:{order:201,color:"#E39E3C"},lines:{order:202,color:"#755DA5",width:"1px"}}},lines:{filter:{$geometry:"line"},draw:{lines:{order:203,color:"#000000",width:"2px",join:"round",cap:"round"}}}}}}):new H.map.render.harp.Style({styles:[{layer:this.c,when:["==",["geometry-type"],"Point"],technique:"circles",renderOrder:200,color:"#92CF48",size:["interpolate",["linear"],["zoom"],10,\n8,14,12,18,16]},{layer:this.c,when:["==",["geometry-type"],"Polygon"],technique:"fill",color:"#E39E3C",renderOrder:201},{layer:this.c,when:["==",["geometry-type"],"Polygon"],technique:"solid-line",color:"#755DA5",lineWidth:"1px",renderOrder:202},{layer:this.c,when:["==",["geometry-type"],"LineString"],technique:"solid-line",color:"#000000",lineWidth:"2px",renderOrder:203}]}))}u(ls,T);t("H.service.xyz.Provider",ls);ls.prototype.G=function(a,b,c,d,e){return this.u.Af(a,b,c,this.c,d,e,this.i)};\nls.prototype.requestInternal=ls.prototype.G;ls.prototype.ca=function(){return this.u.ca(this.c)};ls.prototype.getCopyrights=ls.prototype.ca;ls.prototype.md=ff;ls.prototype.providesOMV=ls.prototype.md;ls.prototype.$=function(){return this.ab()};ls.prototype.getStyle=ls.prototype.$;ls.prototype.xb=function(a){C(a,qi)&&a.b("MVT");this.lb(a)};ls.prototype.setStyle=ls.prototype.xb;t("H.service.buildInfo",function(){return Hf("H-service","1.38.0","8be3148",{region:"row"})});\n'
);
